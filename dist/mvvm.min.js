/*!
 * mvvm.js v1.2.7 (c) 2016 TANG
 * Released under the MIT license
 * Wed Oct 05 2016 10:15:44 GMT+0800 (CST)
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.MVVM=e()}(this,function(){"use strict";function t(t,e){return typeof t===e}function e(t){return"[object Object]"===Ht.toString.call(t)}function i(t){return Array.isArray(t)}function n(e){return t(e,"function")}function s(e){return t(e,"string")}function r(e){return t(e,"boolean")}function o(e){return t(e,"number")&&!isNaN(e)}function a(t){return t&&e(t)&&!t.nodeType&&t!==t.window?!t.constructor||Jt.call(t.constructor.prototype,"isPrototypeOf"):!1}function u(t){return 0===Object.keys(t).length}function c(t){return null==t?"":t.toString()}function h(t){if(s(t)){var e=Number(t);return o(e)?e:t}return t}function f(){}function l(){Kt&&Kt.warn.apply(Kt,arguments)}function d(){Kt&&Kt.error.apply(Kt,arguments)}function p(t,e){return t&&Jt.call(t,e)}function v(t,e,i,n){return Object.defineProperty(t,e,{value:i,writable:!0,enumerable:!!n,configurable:!0})}function m(t,n,s){var r,o;if(s||(s=this),i(t))for(r=0;r<t.length&&(o=n.call(s,t[r],r,t),o!==!1);r++)null===o&&(t.splice(r,1),r--);else if(e(t)){var a=Object.keys(t);for(r=0;r<a.length;r++){var u=a[r];if(o=n.call(s,t[u],u,t),o===!1)break;null===o&&delete t[u]}}}function g(t){m(t,function(){return null})}function b(){var t,e,s,o,u,c,h=arguments,f=arguments[0]||{},l=1,d=arguments.length,p=!1;for(r(f)&&(p=f,f=arguments[l]||{},l++),"object"==typeof f||n(f)||(f={}),l===d&&(f=this,l--);d>l;l++)if(null!=(t=h[l]))for(e in t)s=f[e],o=t[e],f!==o&&(p&&o&&(a(o)||(u=i(o)))?(u?(u=!1,c=s&&i(s)?s:[]):c=s&&a(s)?s:{},f[e]=b(p,c,o)):void 0!==o&&(f[e]=o));return f}function _(t){var n;return i(t)?n=t.slice(0):e(t)&&(n=b(!0,{},t)),n||t}function y(t,e){var i=t.split(":");return e?i:i.pop()}function w(t){return document.createElement(t)}function x(){return document.createDocumentFragment()}function $(t){for(var e,i=x();e=t.firstChild;)i.appendChild(e);return i}function O(t){var e;if(/<[^>]+>/g.test(t)){var i=w("div");i.innerHTML=t,e=$(i)}else e=x(),e.appendChild(document.createTextNode(t));return e}function C(t){return t.replace(Xt,"")}function k(t,e,i){if(!e)return t;for(var n=e.split(".");n.length>1&&p(t,n[0]);)t=t[n.shift()];return e=n[0],"undefined"!=typeof i?void(t[e]=i):t[e]}function A(t){this.key=t,this.watchers=[],this.guid=Yt++}function D(t){return t}function E(t){return""}function N(t){var e=t.charCodeAt(0);if(e>=65&&90>=e||e>=97&&122>=e||e>=48&&57>=e)return ie;switch(e){case 91:case 93:case 46:case 34:case 39:return ne;default:return se}}function I(t){var e=[],i=t.split(""),n=i.length-1,s=N(i[0]);return oe.init(s),m(i,function(t,i){var s=N(t),r=oe.set(s,t);r&&e.push(r),i===n&&oe.saves&&(e.push(oe.saves),oe.reset())}),e}function L(t,e){for(;e.length;)t=t[e.shift()];return t}function j(t){return I(C(t))}function S(t,i,n){var s=_(n),r=s.pop(),o=L(t,s);e(o)&&(o[r]=i)}function T(t){var e=me.length;return me[e]=t,'"'+e+'"'}function F(t,e){return me[e]}function M(t){var e=t.charAt(0),i=t.slice(1);return de.test(i)?t:(i=i.indexOf('"')>-1?i.replace(ae,F):i,e+"scope."+i)}function P(t){return fe.test(t)&&!ue.test(t)&&0!==t.indexOf("Math.")}function U(t){return P(t)?"scope."+t:(t=(" "+t).replace(ce,T),t=t.replace(he,M),t=t.replace(ae,F))}function W(t){if(ve.test(t))return l("Avoid using unallow keyword in expression ["+t+"]"),f;try{return new Function("scope","return "+U(t)+";")}catch(e){return d("Invalid generated expression: ["+t+"]"),f}}function z(t){var e=j(t);return e.length?function(t,i){S(t,i,e)}:(d("Invalid setter expression ["+t+"]"),f)}function V(t,e){var i=t&&t.__ob__,n=i&&i.dep.guid;if(n){if(ge.indexOf(n)>-1)return;ge.push(n)}m(t,function(t){V(t,!1)}),e&&(ge.length=0)}function R(t,e,i,s){this.vm=t,b(this,e),this.callback=i,this.context=s||this,this.depIds=[],this.newDepIds=[],this.shallowIds=[],this.depends=[],this.newDepends=[];var r=e.expression,o=n(r);this.getter=o?r:W(r),this.setter=e.duplex?z(r):null,this.oldVal=null,this.value=this.get()}function B(t){this.parser=t,this.scope=t.scope}function q(t,e,i,n){this.vm=t,this.el=e,this.desc=i,this.scope=n,this.parse()}function Z(t){return t.prototype=Object.create(q.prototype)}function G(t){return 1===t.nodeType}function Q(t){return 3===t.nodeType}function H(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function J(t,e){return t.getAttribute(e)||""}function K(t,e){t.removeAttribute(e)}function X(t,e,i){return null==i||i===!1?K(t,e):void(i===!0?(t[e]=i,Y(t,e)||t.setAttribute(e,"")):i!==J(t,e)&&t.setAttribute(e,i))}function Y(t,e){return t.hasAttribute(e)}function tt(t,e){var i,n=t.classList;return n?n.contains(e):(i=" "+J(t,"class")+" ",i.indexOf(" "+e+" ")>-1)}function et(t,e){var i,n=t.classList;e&&!tt(t,e)&&(n?n.add(e):(i=" "+J(t,"class")+" ",-1===i.indexOf(" "+e+" ")&&X(t,"class",(i+e).trim())))}function it(t,e){var i,n,s=t.classList;if(e&&tt(t,e)){if(s)s.remove(e);else{for(n=" "+e+" ",i=" "+J(t,"class")+" ";i.indexOf(n)>-1;)i=i.replace(n," ");X(t,"class",i.trim())}t.className||K(t,"class")}}function nt(t,e,i,n){t.addEventListener(e,i,n)}function st(t,e,i,n){t.removeEventListener(e,i,n)}function rt(t){var e,i=C(J(t,"style"));if(i&&i.indexOf("display")>-1){var n=i.split(";");m(n,function(t){t.indexOf("display")>-1&&(e=y(t))})}return e||""}function ot(t){var e,i,n=C(t),s=n.match($e),r=s&&s[0];return r?(i=n.substr(0,n.indexOf(r)),e="["+r.substr(1,r.length-2)+"]"):i=n,{func:i,args:e}}function at(t){var e={},i=t.trim();if(xe.test(i)){var n=i.length;i=i.substr(1,n-2).replace(/\s/g,"");var s=i.match(Ce);m(s,function(t){var i=y(t,!0),n=i[0],s=i[1];n&&s&&(n=n.replace(Oe,""),e[n]=s)})}return e}function ut(t,e){var i,n=t.indexOf("."),s="";n>-1?(i=t.substr(0,n),s=t.substr(n+1,t.length)):i=t;var r=ot(e),o=r.func,a=r.args;return{type:i,dress:s,func:o,args:a}}function ct(t){var e=[],i=t.args,n=t.expression;if(i)e.push(ut(i,n));else{var s=at(n);m(s,function(t,i){e.push(ut(i,t))})}return e}function ht(t,e){var i,n=e.split("."),s=n.indexOf("self")>-1,r=n.indexOf("stop")>-1,o=n.indexOf("once")>-1,a=n.indexOf("prevent")>-1,u=n.indexOf("capture")>-1;return 0===t.indexOf("key")&&m(n,function(t){return we.test(t)?(i=+t,!1):void 0}),{self:s,stop:r,prevent:a,capture:u,keyCode:i,once:o}}function ft(){this.cache={},this.funcWatchers=[],this.argsWatchers=[],q.apply(this,arguments)}function lt(){q.apply(this,arguments)}function dt(t,e){for(var i=t.$data.$els,n=e.childNodes,s=0;s<n.length;s++){var r=n[s];if(G(r)){for(var o=r.attributes,a=0;a<o.length;a++){var u=o[a];"v-el"===u.name&&p(i,u.value)&&(i[u.value]=null)}r.hasChildNodes()&&dt(t,r)}}}function pt(){q.apply(this,arguments)}function vt(t){for(var e=0;e<Se.length;e++){var i=Se[e];v(t,i,je[i])}}function mt(t){Ie?t.__proto__=je:vt(t)}function gt(t){m(t,function(e,i){wt(t,i,e)})}function bt(t,e){mt(t),m(t,function(t){yt(t,e)})}function _t(t,e){this.dep=new A(e),i(t)?bt(t,e):gt(t),v(t,"__ob__",this)}function yt(t,n){return e(t)||i(t)?p(t,"__ob__")?t.__ob__:new _t(t,n):void 0}function wt(t,e,n){var s=new A(e),r=Object.getOwnPropertyDescriptor(t,e),o=r&&r.get,a=r&&r.set,u=yt(n,e);Object.defineProperty(t,e,{get:function(){var e=o?o.call(t):n;return A.watcher&&(s.depend(),u&&u.dep.depend()),i(e)&&m(e,function(t){var e=t&&t.__ob__;e&&e.dep.depend()}),e},set:function(i){var r=o?o.call(t):n;i!==r&&(s.beforeNotify(),a?a.call(t,i):n=i,u=yt(i,e),s.notify())}})}function xt(t,e){var i=new R(t,{expression:e.bind(t)});return function(){return A.watcher&&m(i.depends,function(t){t.depend()}),i.value}}function $t(t,e){m(e,function(e,i){return n(e)?void Object.defineProperty(t,i,{set:f,get:xt(t,e)}):l("computed property ["+i+"] must be a getter function!")})}function Ot(){q.apply(this,arguments)}function Ct(){q.apply(this,arguments)}function kt(){q.apply(this,arguments)}function At(t){var e=rt(t);"none"!==e&&v(t,ze,e||"")}function Dt(t,e){t.style.display=e}function Et(){q.apply(this,arguments)}function Nt(t,n){var s={};return m(t,function(t,r){var o,a=n[r];if(e(t))o=Nt(t,a),u(o)||(s[r]=o);else if(i(t)){var c=[];m(t,function(t,i){var n;e(t)?(n=Nt(t,a[i]),c.push(n)):a.indexOf(t)<0&&c.push(t)}),s[r]=c}else t!==a&&(s[r]=t)}),s}function It(t,e){var n=[];return i(t)&&i(e)?(m(t,function(t){e.indexOf(t)<0&&n.push(t)}),n):t}function Lt(t,n){var s=i(t)&&i(n),r=e(t)&&e(n),o=r?Nt:s?It:null,a=o&&o(t,n)||t,u=o&&o(n,t)||n;return{after:a,before:u}}function jt(t,i){var n=t.style;return e(i)?void m(i,function(t,e){n[e]!==t&&(n[e]=t)}):l("v-bind for style must be a type of Object",i)}function St(t,e,i){m(e.split(" "),function(e){i?it(t,e):et(t,e)})}function Tt(t,n,r){s(n)?St(t,n,r):i(n)?m(n,function(e){St(t,e,r)}):e(n)&&m(n,function(e,i){St(t,i,r||!e)})}function Ft(){q.apply(this,arguments)}function Mt(t,e){return setTimeout(function(){t.call(t)},h(e)||0)}function Pt(t,e){for(var i=[],n=t.options,s=0;s<n.length;s++){var r=n[s],o=r.value;r.selected&&i.push(Ut(o,e))}return i}function Ut(t,e){return e?h(t):t}function Wt(t,e){for(var i=0;i<e.length;i++)if(e[i]==t)return i;return-1}function zt(){q.apply(this,arguments)}function Vt(){q.apply(this,arguments)}function Rt(t){return 0===t.indexOf("v-")}function Bt(t){return Y(t,"v-if")||Y(t,"v-for")||Y(t,"v-pre")}function qt(t){if(G(t)&&t.hasAttributes()){for(var e=t.attributes,i=0;i<e.length;i++)if(Rt(e[i].name))return!0}else if(Q(t)&&ri.test(t.textContent))return!0}function Zt(t){var e,i,n=t.name,s=t.value,r=n.indexOf(":");return r>-1?(i=n.substr(r+1),e=n.substr(0,r)):e=n,{args:i,attr:n,directive:e,expression:s}}function Gt(t){var i=t.model,n=t.view,s=t.computed;return G(n)?e(i)?(this.$queue=[],this.$data=i,this.$element=n,v(this.$data,"$els",{}),this.$directives=[],this.$ob=yt(this.$data,"__MODEL__"),s&&$t(this.$data,s),this.$afters=[],this.$customs=t.customs||{},void(t.lazy||this.mount())):l("model must be a type of Object: ",i):l("view must be a type of DOMElement: ",n)}function Qt(t){var e=t.context||t.model;this.__ct__=e,this.__bk__=_(t.model),m(t.model,function(i,s){n(i)&&(t.model[s]=i.bind(e))}),m(t.methods,function(i,n){t.model[n]=i.bind(e)}),this.__vm__=new Gt(t),this.$data=this.__vm__.$data,this._watchBatch(t.watches)}var Ht=Object.prototype,Jt=Ht.hasOwnProperty,Kt=window.console,Xt=/\s/g,Yt=0;A.watcher=null;var te=A.prototype;te.addWatcher=function(t){this.watchers.push(t)},te.removeWatcher=function(t){var e=this.watchers.indexOf(t);e>-1&&this.watchers.splice(e,1)},te.depend=function(){A.watcher&&A.watcher.addDepend(this)},te.beforeNotify=function(){m(this.watchers,function(t){t.beforeUpdate()})},te.notify=function(t){var e=this.guid;m(this.watchers,function(i){i.update(t,e)})};var ee=0,ie=1,ne=2,se=1,re=[0,D,E,D],oe={init:function(t){this.saves="",this.state=t},set:function(t,e){var i=this.get(t),n=i.keepIdent,s=i.tobeQuote,r=i.tobeIdent;if(n)this.save(t,e);else{if(s){var o=this.saves;return this.saves="",this.change(t),o}r&&(this.save(t,e),this.change(t))}},get:function(t){var e=this.state,i=e===ie&&t===ie,n=(e===ie||e===ee)&&t===ne,s=e===ne&&t===ne,r=(e===ne||e===ee)&&t===ie;return{keepIdent:i,tobeQuote:n,keepQuote:s,tobeIdent:r}},change:function(t){this.state=t},save:function(t,e){this.saves+=re[t](e)},reset:function(){this.saves="",this.state=ee}},ae=/"(\d+)"/g,ue=/^(true|false)$/,ce=/[\{,]\s*[\w\$_]+\s*:|('[^']*'|"[^"]*")|typeof /g,he=/[^\w$\.]([A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\])*)/g,fe=/^[A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/,le="Math.parseInt.parseFloat.Date.this.true.false.null.undefined.Infinity.NaN.isNaN.isFinite.decodeURI.decodeURIComponent.encodeURI.encodeURIComponent",de=new RegExp("^("+le.replace(/\./g,"\\b|")+"\\b)"),pe="var.const.let.if.else.for.in.continue.switch.case.break.default.function.return.do.while.delete.try.catch.throw.finally.with.import.export.instanceof.yield.await",ve=new RegExp("^("+pe.replace(/\./g,"\\b|")+"\\b)"),me=[],ge=[],be=R.prototype;be.getScope=function(){return this.context.scope||this.vm.$data},be.getValue=function(){var t=this.getScope();return this.getter.call(t,t)},be.setValue=function(t){var e=this.getScope();this.setter&&this.setter.call(e,e,t)},be.get=function(){var t;return this.beforeGet(),t=this.getValue(),this.deep&&(this.shallowIds=_(this.newDepIds),V(t,!0)),this.afterGet(),t},be.beforeGet=function(){A.watcher=this},be.addDepend=function(t){var e=t.guid,i=this.newDepIds;i.indexOf(e)<0&&(i.push(e),this.newDepends.push(t),this.depIds.indexOf(e)<0&&t.addWatcher(this))},be.removeDepends=function(t){m(this.depends,function(e){t?t.call(this,e)&&e.removeWatcher(this):e.removeWatcher(this)},this)},be.afterGet=function(){A.watcher=null,this.removeDepends(function(t){return this.newDepIds.indexOf(t.guid)<0}),this.depIds=_(this.newDepIds),this.newDepIds.length=0,this.depends=_(this.newDepends),this.newDepends.length=0},be.beforeUpdate=function(){this.oldVal=_(this.value)},be.update=function(t,e){var i=this.oldVal,n=this.value=this.get(),s=this.callback;if(s&&i!==n){var r=this.deep&&this.shallowIds.indexOf(e)<0;s.call(this.context,n,i,r,t)}},be.destroy=function(){this.value=null,this.removeDepends(),this.getter=this.setter=null,this.vm=this.callback=this.context=null};var _e=B.prototype;_e.mount=function(){var t=this.parser,e=this.watcher=new R(t.vm,t.desc,this.update,this);this.update(e.value)},_e.destroy=function(){this.watcher.destroy(),this.parser=this.scope=null},_e.update=function(t,e,i,n){var s=this.parser;s.update.call(s,t,e,i,n)},_e.get=function(){return this.watcher.value},_e.set=function(t){this.watcher.setValue(t)};var ye=q.prototype;ye.bind=function(){this.directive=new B(this),this.directive.mount()},ye.destroy=function(){var t=this.directive;t?t.destroy():n(this._destroy)&&this._destroy(),this.vm=this.desc=this.scope=null};var we=/^(\d)*$/,xe=/^\{.*\}$/,$e=/(\(.*\))/,Oe=/(^'*)|('*$)|(^"*)|("*$)/g,Ce=/[^,]+:[^:]+((?=,[^:]+:)|$)/g,ke=2e3,Ae="__vonid__",De=Z(ft);De.parse=function(){m(ct(this.desc),function(t){this.parseEvent(t)},this)},De.getExpDesc=function(t){return b({},this.desc,{expression:t})},De.parseEvent=function(t){var e=t.func,i=t.args,s=t.type,r=t.dress,o=r.indexOf("capture")>-1;if("$remove"===e)return this.bindRemoveEvent(s,r);var a=this.getExpDesc(e),u=new R(this.vm,a,function(t,e){this.off(s,e,o),this.bindEvent(s,r,t,i)},this),c=u.value;return n(c)?(this.bindEvent(s,r,c,i),void this.funcWatchers.push(u)):(u.destroy(),l("Directive ["+this.desc.attr+"] must be a type of Function"))},De.bindRemoveEvent=function(t,e){var i=this.scope;if(!i)return l("The specify event $remove must be used in v-for scope");var n=i.__alias__;this.bindEvent(t,e,function(){i.__viterator__.$remove(i[n])},"["+n+"]")},De.bindEvent=function(t,e,i,n){var s=ht(t,e),r=s.self,o=s.stop,a=s.prevent,u=s.capture,c=s.keyCode,h=s.once;v(this.scope||this.vm.$data,"$event","__e__");var f=[];if(n){var l=this.getExpDesc(n),d=new R(this.vm,l,function(t){f=t},this);f=d.value,this.argsWatchers.push(d)}var p,g=this.el,b=function(t){r&&t.target!==g||c&&c!==t.keyCode||(f.length?m(f,function(e,i){("__e__"===e||e instanceof Event)&&(f[i]=t)}):f.push(t),a&&t.preventDefault(),o&&t.stopPropagation(),i.apply(this,f))},_=ke++,y=this;h?(p=function(e){b(e),y.off(t,p,u)},p[Ae]=_):(i[Ae]=_,p=b),this.cache[_]=p,this.on(t,p,u)},De.on=function(t,e,i){nt(this.el,t,e,i)},De.off=function(t,e,i){var n=this.cache,s=e[Ae],r=n[s];r&&(st(this.el,t,r,i),delete n[s])},De._destroy=function(){g(this.cache),m(this.funcWatchers,function(t){t.destroy()}),m(this.argsWatchers,function(t){t.destroy()})};var Ee=Z(lt);Ee.parse=function(){if(this.scope)l("v-el can not be used inside v-for!");else{var t=this.desc.expression;this.vm.$data.$els[t]=this.el}};var Ne=Z(pt);Ne.parse=function(){var t=this.el,e=t.nextElementSibling;this.elFrag=$(t),e&&Y(e,"v-else")&&(this.elseEl=e,this.elseElFrag=$(e)),this.bind()},Ne.update=function(t){var e=this.elseEl;this.toggle(this.el,this.elFrag,t),e&&this.toggle(e,this.elseElFrag,!t)},Ne.toggle=function(t,e,i){var n=this.vm,s=e.cloneNode(!0);i?(n.compile(s,!0,this.scope),t.appendChild(s)):(H(t),dt(n,s))};var Ie="__proto__"in{},Le=Array.prototype,je=Object.create(Le);m(["pop","push","sort","shift","splice","unshift","reverse"],function(t){var e=Le[t];v(je,t,function(){for(var i=arguments,n=[],s=this.__ob__,r=0;r<arguments.length;r++)n.push(i[r]);s.dep.beforeNotify();var o,a=e.apply(this,n);switch(t){case"push":case"unshift":o=n;break;case"splice":o=n.slice(2)}return o&&o.length&&bt(o),s.dep.notify({method:t,args:n}),a})}),v(Le,"$set",function(t,e){return t>=this.length&&(t=this.length),this.splice(t,1,e)[0]}),v(Le,"$remove",function(t){var e=this.indexOf(t);return e>-1?this.splice(e,1):void 0});var Se=Object.getOwnPropertyNames(je),Te="__vfor__",Fe=/(.*) (?:in|of) (.*)/,Me="push|pop|shift|unshift|splice".split("|"),Pe=Z(Ot);Pe.parse=function(){var t=this.el,e=this.desc,i=t.parentNode,n=e.expression,s=n.match(Fe);if(!s)return l('The format of v-for must be like "item in/of items"!');var r=s[1],o=s[2];this.scopes=[],this.init=!0,this.alias=r,this.partly=!1,this.partlyArgs=[],this.$parent=i,this.end=t.nextSibling,this.start=t.previousSibling,this.isOption="OPTION"===t.tagName&&"SELECT"===i.tagName,e.expression=o,this.bind(),this.updateModel()},Pe.updateModel=function(t){if(this.isOption){var e=this.$parent.__vmodel__;e&&e.forceUpdate(t)}},Pe.update=function(t,e,i,n){this.init?this.initList(t):n&&Me.indexOf(n.method)>-1?(this.partly=!0,this.updatePartly(t,n),this.partly=!1):(this.recompileList(t),this.updateModel(!0))},Pe.initList=function(t){this.init=!1;var e=this.buildList(t);this.$parent.replaceChild(e,this.el)},Pe.updatePartly=function(t,e){var i=[],n=e.args,s=e.method,r=this.scopes;switch(this[s].call(this,t,n),s){case"pop":case"shift":break;case"push":case"unshift":i=this.partlyArgs;break;case"splice":i=n.slice(0,2),Array.prototype.push.apply(i,this.partlyArgs)}r[s].apply(r,i),this.partlyArgs.length=0,m(r,function(t,e){t.$index=e})},Pe.recompileList=function(t){for(var e,i=this.end,n=this.start,s=this.$parent;(e=n&&n.nextSibling||s.firstChild)&&(!i||e!==i);)s.removeChild(e);this.scopes.length=0;var r=this.buildList(t);s.insertBefore(r,i)},Pe.buildList=function(t,e){var i=this.vm,n=this.el,s=n.__dirs__,r=e||0,o=x(),a=this.directive.watcher.value;return m(t,function(t,e){var u=r+e,c=this.alias,h=n.cloneNode(!0),f=Object.create(this.scope||i.$data);wt(f,c,t),wt(f,"$index",u),v(f,"__alias__",c),v(f,"__viterator__",a),this.partly?this.partlyArgs.push(f):this.scopes.push(f),s>1&&i.block(n),v(h,Te,c),i.compile(h,!0,f),o.appendChild(h)},this),o},Pe.getChilds=function(){for(var t=this,e=[],i=this.$parent.childNodes,n=0;n<i.length;n++){var s=i[n];s[Te]===t.alias&&e.push(s)}return e},Pe.getFirst=function(){var t=this.start;return t&&t.nextSibling||this.$parent.firstChild},Pe.getLast=function(){var t=this.end;return t&&t.previousSibling||this.$parent.lastChild},Pe.getChild=function(t){return this.getChilds()[t]},Pe.shift=function(){var t=this.getFirst();t&&this.$parent.removeChild(t)},Pe.pop=function(){var t=this.getLast();t&&this.$parent.removeChild(t)},Pe.push=function(t,e){var i=this.buildList(e,t.length-1);this.$parent.insertBefore(i,this.end)},Pe.unshift=function(t,e){var i=this.getFirst(),n=this.buildList(e,0);this.$parent.insertBefore(n,i)},Pe.splice=function(t,e){var i=e[0],n=e[1],s=e.slice(2),r=s.length;if(0!==n||r){var o=n&&!r,a=!n&&r,u=n&&r,c=this.$parent;if(o||u){var h=this.getChilds();m(h,function(t,e){e>=i&&i+n>e&&c.removeChild(t)}),h=null}if(a||u){var f=this.getChild(i),l=this.buildList(s,i);c.insertBefore(l,f)}}};var Ue=Z(Ct);Ue.parse=function(){this.bind()},Ue.update=function(t){this.el.textContent=c(t)};var We=Z(kt);We.parse=function(){this.bind()},We.update=function(t){H(this.el).appendChild(O(c(t)))};var ze="__visible__",Ve=Z(Et);Ve.parse=function(){var t=this.el;At(t);var e=t.nextElementSibling;e&&Y(e,"v-else")&&(this.elseEl=e,At(e)),this.bind()},Ve.update=function(t){var e=this.el,i=this.elseEl;Dt(e,t?e[ze]:"none"),i&&Dt(i,t?"none":i[ze])};var Re=Z(Ft);Re.parse=function(){this.desc.deep=!0,this.bind()},Re.update=function(t,e){var i=this.desc.args;i?this.single(i,t,e):this.multi(t,e)},Re.single=function(t,e,i){switch(t){case"class":this.processClass(e,i);break;case"style":this.processStyle(e,i);break;default:this.processAttr(t,e)}},Re.multi=function(t,e){if(e){var i=Lt(t,e),n=i.after,s=i.before;this.batch(n,s)}this.batch(t)},Re.batch=function(t,e){m(t,function(t,i){this.single(i,t,e&&e[i])},this)},Re.processClass=function(t,e){var i=this.el;if(e){var n=Lt(t,e),s=n.after,r=n.before;Tt(i,r,!0),Tt(i,s)}else Tt(i,t)},Re.processStyle=function(t,e){var i=this.el;e&&(m(e,function(t,i){e[i]=""}),jt(i,e)),jt(i,t)},Re.processAttr=function(t,e){X(this.el,t,e)};var Be=window.navigator.userAgent.toLowerCase(),qe=Be&&Be.indexOf("msie 9.0")>0,Ze={bind:function(){function t(t){var e=Ut(t,s);r?Mt(function(){i.onDebounce=!0,o.set(e)},r):o.set(e)}var e,i=this,n=this.lazy,s=this.number,r=this.debounce,o=this.directive;this.on("compositionstart",function(){e=!0}),this.on("compositionend",function(){e=!1,n||t(this.value)}),this.on("input",function(){e||n||t(this.value)}),this.on("blur",function(){t(this.value)}),this.on("change",function(){t(this.value)}),qe&&(this.on("cut",function(){var e=this;Mt(function(){return t(e.value)})}),this.on("keyup",function(e){var i=e.keyCode;8!==i&&46!==i||t(this.value)}))},update:function(t){var e=this.el,i=c(t);e.value===i||this.onDebounce||(e.value=i)}},Ge={bind:function(){var t=this.number,e=this.directive;this.on("change",function(){e.set(Ut(this.value,t))})},update:function(t){var e=this.el;e.checked=e.value===c(t)}},Qe={bind:function(){var t=this.multi,e=this.number,i=this.directive;this.on("change",function(){var n=t?Pt(this,e):Ut(this.value,e);i.set(n)}),this.vm.after(this.forceUpdate,this)},update:function(t){var e=this.el,n=this.multi,s=this.desc.expression;if(e.selectedIndex=-1,n&&!i(t))return l("<select> cannot be multiple when the model set ["+s+"] as not Array");if(!n&&i(t))return l("The model ["+s+"] cannot set as Array when <select> has no multiple propperty");for(var r=e.options,o=0;o<r.length;o++){var a=r[o],u=a.value;a.selected=n?Wt(u,t)>-1:u===c(t)}},forceUpdate:function(t){var e=this.directive;t?e.set(this.multi?[]:""):this.update(e.get())}},He={bind:function(){var t=this.number,e=this.directive;this.on("change",function(){var n=e.get(),s=this.checked;if(r(n))e.set(s);else if(i(n)){var o=Ut(this.value,t),a=Wt(o,n);s&&-1===a?n.push(o):a>-1&&n.splice(a,1)}})},update:function(t){var e=this.el,n=Ut(e.value,this.number);return i(t)||r(t)?void(e.checked=r(t)?t:Wt(n,t)>-1):l("Checkbox v-model value must be a type of Boolean or Array")}},Je=["input","select","textarea"],Ke=Z(zt);Ke.parse=function(){var t=this.el,e=this.desc,i=t.tagName.toLowerCase(),n="input"===i?J(t,"type"):i;return Je.indexOf(i)<0?l("v-model only for using in "+Je.join(", ")):P(e.expression)?(e.duplex=!0,void this.bindDuplex(n)):l("v-model directive value can be use by static expression")},Ke.bindDuplex=function(t){var e,i=this.el;switch(t){case"text":case"password":case"textarea":e=Ze,this.lazy=Y(i,"lazy"),this.debounce=J(i,"debounce");break;case"radio":e=Ge;break;case"checkbox":e=He;break;case"select":e=Qe,v(i,"__vmodel__",this),this.multi=Y(i,"multiple"),this.forceUpdate=Qe.forceUpdate.bind(this)}return e?(this.number=Y(i,"number"),this.update=e.update.bind(this),this.bind(),void e.bind.call(this)):l("Do not use incorrect form-type with v-model: ",i)},Ke.on=function(t,e){nt(this.el,t,e,!1)};var Xe=Z(Vt);Xe.parse=function(){var t=this.desc,e=this.vm.$customs[t.args];return n(e)?(this.update=e,void this.bind()):l("Custom directive ["+t.attr+"] must define with a refresh function!")};var Ye={von:ft,vel:lt,vif:pt,vfor:Ot,vtext:Ct,vhtml:kt,vshow:Et,vbind:Ft,vmodel:zt,vcustom:Vt},ti=/\n/g,ei=/\{\{(.+?)\}\}/g,ii=/\{\{\{(.+?)\}\}\}/g,ni=/\s\{|\{|\{|\}|\}|\}/g,si=["velse","vpre","vcloak"],ri=/(\{\{.*\}\})|(\{\{\{.*\}\}\})/,oi=Gt.prototype;oi.mount=function(){this.$done=!1,this.$fragment=$(this.$element),this.compile(this.$fragment,!0)},oi.compile=function(t,e,i){var n=this,s=t.childNodes;e&&qt(t)&&this.$queue.push([t,i]);for(var r=0;r<s.length;r++){var o=s[r];qt(o)&&n.$queue.push([o,i]),o.hasChildNodes()&&!Bt(o)&&n.compile(o,!1,i)}e&&this.compileAll()},oi.compileAll=function(){m(this.$queue,function(t){return this.complieNode(t),null},this),this.completed()},oi.complieNode=function(t){var e=t[0],i=t[1];if(G(e)){for(var n,s,r,o,a=[],u=e.attributes,c=0;c<u.length;c++){var h=u[c],f=h.name;Rt(f)&&("v-for"===f?n=h:"v-model"===f?(s=!0,o=a.length):0===f.indexOf("v-bind")&&(r=!0),a.push(h))}if(!n&&r&&s&&a.length>1&&o!==a.length-1){var l=a.splice(o,1)[0];a.push(l),l=null}n&&(v(e,"__dirs__",a.length),a=[n],n=null),m(a,function(t){this.parse(e,t,i)},this)}else Q(e)&&this.parseText(e,i)},oi.parse=function(t,e,i){var n=Zt(e),s=n.directive,r="v"+s.substr(2),o=Ye[r];K(t,n.attr),si.indexOf(r)>-1||(o?this.$directives.push(new o(this,t,n,i)):l("["+s+"] is an unknown directive!"))},oi.parseText=function(t,e){var i,n,s,r,o=[],a={},u=t.textContent.trim().replace(ti,"");if(ii.test(u)){if(s=u.match(ii),n=s[0],i=n.replace(ni,""),n.length!==u.length)return l("["+u+"] compile for HTML can not have a prefix or suffix");a.expression=i,this.$directives.push(new Ye.vhtml(this,t.parentNode,a,e))}else r=u.split(ei),s=u.match(ei),m(r,function(t){s.indexOf("{{"+t+"}}")>-1?o.push("("+t+")"):t&&o.push('"'+t+'"')}),a.expression=o.join("+"),this.$directives.push(new Ye.vtext(this,t,a,e))},oi.block=function(t){m(this.$queue,function(e){return t===e[0]?null:void 0})},oi.after=function(t,e){this.$afters.push([t,e])},oi.completed=function(){0!==this.$queue.length||this.$done||(this.$done=!0,this.$element.appendChild(this.$fragment),m(this.$afters,function(t){return t[0].call(t[1]),null}))},oi.destroy=function(){this.$data=null,H(this.$element),m(this.$directives,function(t){return t.destroy(),null})};var ai=Qt.prototype;return ai.mount=function(){this.__vm__.mount()},ai.get=function(t){var e=this.$data;return s(t)?k(e,t):e},ai.getCopy=function(t){return _(this.get(t))},ai.set=function(t,i){var n=this.$data;s(t)?k(n,t,i):e(t)&&m(t,function(t,e){k(n,e,t)})},ai.reset=function(t){var e=this.$data,n=this.__bk__;s(t)?e[t]=n[t]:i(t)?m(t,function(t){e[t]=n[t]}):m(e,function(t,i){e[i]=n[i]})},ai.watch=function(t,e,i){return new R(this,{deep:i,expression:t},e.bind(this.__ct__))},ai._watchBatch=function(t){m(t,function(t,i){n(t)?this.watch(i,t,!1):e(t)&&this.watch(i,t.handler,t.deep)},this)},ai.destroy=function(){this.__vm__.destroy(),this.__vm__=this.__ct__=this.__bk__=this.$data=null},Qt});