/*!
 * mvvm.js
 * mvvm library for sugar
 * (c) 2016 TANG
 * this library can be used independently (without sugar)
 * https://github.com/tangbc/sugar
 * released under the MIT license.
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.MVVM=e():t.MVVM=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){var n,s;n=[i(1),i(2)],s=function(t,e){function i(i,n,s){this.context=s,t.each(n,function(e,i){t.isFunc(e)&&(n[i]=e.bind(s))}),this.backup=t.copy(n),this.vm=new e(i,n),this.$=this.vm.$data}var n=i.prototype;return n.get=function(e){return t.isString(e)?this.$[e]:this.$},n.set=function(e,i){var n=this.$;t.isObject(e)?t.each(e,function(t,e){n[e]=t}):t.isString(e)&&(n[e]=i)},n.reset=function(e){var i=this.$,n=this.backup;t.isString(e)?i[e]=n[e]:t.isArray(e)?t.each(e,function(t,e){i[e]=n[e]}):t.each(i,function(t,e){i[e]=n[e]})},n.watch=function(t,e){var i=[[t],[void 0]];this.vm.watcher.add(i,function(t,i,n){e.call(this,t,i,n)},this.context)},i}.apply(e,n),!(void 0!==s&&(t.exports=s))},function(t,e,i){var n;n=function(){function t(t){return"[object Object]"===l.toString.call(t)}function e(t){return"[object Array]"===l.toString.call(t)}function i(t){return t instanceof Function}function n(t){return"string"==typeof t}function s(t){return"boolean"==typeof t}function r(t){return"number"==typeof t&&!isNaN(t)}function a(e){return e&&t(e)&&!e.nodeType&&e!==e.window?!e.constructor||p.call(e.constructor.prototype,"isPrototypeOf"):!1}function o(){this.OP=l,this.AP=u,this.WIN=c,this.DOC=h,this.isFunc=i,this.isArray=e,this.isNumber=r,this.isObject=t,this.isString=n,this.isBoolean=s}var c=window,h=c.document,l=Object.prototype,u=Array.prototype,p=l.hasOwnProperty,d=o.prototype,f=c.console;return d.log=function(){f.log.apply(f,arguments)},d.error=function(){f.error.apply(f,arguments)},d.warn=function(){f.warn.apply(f,arguments)},d.hasOwn=function(t,e){return t&&p.call(t,e)},d.defineProperty=function(t,e,i,n,s,r){return Object.defineProperty(t,e,{value:i,writable:!!n,enumerable:!!s,configurable:!!r})},d.each=function(i,s,r){var a,o;if(i)if(r||(r=c),n(s)&&(s=r[s]),e(i))for(o=0;o<i.length&&(a=s.call(r,i[o],o),a!==!1);o++)null===a&&(i.splice(o,1),o--);else if(t(i))for(o in i)if(this.hasOwn(i,o)){if(a=s.call(r,i[o],o),a===!1)break;null===a&&delete i[o]}},d.extendObject=function(){var t,n,r,o,c,h,l=arguments[0]||{},u=1,p=arguments.length,d=!1;for(s(l)&&(d=l,l=arguments[u]||{},u++),"object"==typeof l||i(l)||(l={}),u===p&&(l=this,u--);p>u;u++)if(null!=(t=arguments[u]))for(n in t)r=l[n],o=t[n],l!==o&&(d&&o&&(a(o)||(c=e(o)))?(c?(c=!1,h=r&&e(r)?r:[]):h=r&&a(r)?r:{},l[n]=this.extendObject(d,h,o)):void 0!==o&&(l[n]=o));return l},d.extend=function(){var t=u.slice.call(arguments);return t.unshift({}),this.extendObject.apply(this,t)},d.copy=function(i){var n;return n=e(i)?i.slice(0):t(i)?this.extendObject(!0,{},i):i},d.ucFirst=function(t){var e=t.charAt(0).toUpperCase();return e+t.substr(1)},d.removeSpace=function(t){return t.replace(/\s/g,"")},d.getStringKeyValue=function(t,e){var i=t.split(":");return e?i:i.pop()},d.stringToParameters=function(t){var e,i,n,s=this.removeSpace(t),r=s.match(/(\(.*\))/),a=r&&r[0];return a?(i=a.substr(1,a.length-2).split(","),n=s.substr(0,s.indexOf(a)),e=[n,i]):e=[s,i],e},d.convertJsonString=function(t){var e,i,n=t.trim(),s=n.length;return/^\{.*\}$/.test(n)&&(e={},n=n.substr(1,s-2).replace(/\s|'|"/g,""),i=n.match(/[^,]+:[^:]+((?=,[\w_-]+:)|$)/g),this.each(i,function(t){var i=this.getStringKeyValue(t,!0),n=i[0],s=i[1];n&&s&&(e[n]=s)},this)),e},d.createElement=function(t){return h.createElement(t)},d.createFragment=function(){return h.createDocumentFragment()},d.nodeToFragment=function(t){for(var e,i=this.createFragment(),n=t.cloneNode(!0);e=n.firstChild;)i.appendChild(e);return i},d.stringToFragment=function(t){var e,i;return/<[^>]+>/g.test(t)?(e=this.createElement("div"),e.innerHTML=t,i=this.nodeToFragment(e)):(i=this.createFragment(),i.appendChild(h.createTextNode(t))),i},d.getExpAlias=function(t){var e=t.indexOf(".");return-1===e?t:t.substr(0,e)},d.getExpKey=function(t){var e=t.lastIndexOf(".");return-1===e?"":t.substr(e+1)},new o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,s;n=[i(5),i(1),i(6),i(7),i(9),i(10),i(11),i(3),i(12),i(13),i(14),i(15),i(16)],s=function(t,e,i,n,s,r,a,o,c,h,l,u,p){function d(t,d){return this.isElementNode(t)?e.isObject(d)?(this.$element=t,this.$fragment=e.nodeToFragment(this.$element),this.$data=d,this.$data.$els={},this.$unCompileNodes=[],this.$rootComplied=!1,this.updater=new i(this),this.watcher=new n(this.$data),this.von=new s(this),this.vel=new r(this),this.vif=new a(this),this.vfor=new o(this),this.vtext=new c(this),this.vhtml=new h(this),this.vshow=new l(this),this.vbind=new u(this),this.vmodel=new p(this),this.$inputs="input|select|textarea".split("|"),void this.init()):void e.error("model must be a type of Object: ",d):void e.error("element must be a type of DOMElement: ",t)}var f=d.prototype;return f.init=function(){this.complieElement(this.$fragment,!0)},f.complieElement=function(t,e,i){var n,s=t.childNodes;e&&this.hasDirective(t)&&this.$unCompileNodes.push([t,i]);for(var r=0;r<s.length;r++)n=s[r],this.hasDirective(n)&&this.$unCompileNodes.push([n,i]),n.childNodes.length&&!this.isLateCompileNode(n)&&this.complieElement(n,!1,i);e&&this.compileAllNodes()},f.hasDirective=function(t){var e,i,n=t.textContent,s=/(\{\{.*\}\})|(\{\{\{.*\}\}\})/;if(this.isElementNode(t)){i=t.attributes;for(var r=0;r<i.length;r++)if(this.isDirective(i[r].name)){e=!0;break}}else this.isTextNode(t)&&s.test(n)&&(e=!0);return e},f.compileAllNodes=function(){e.each(this.$unCompileNodes,function(t){return this.complieDirectives(t),null},this),this.checkCompleted()},f.complieDirectives=function(t){var i,n,s,r,a=t[0],o=t[1],c=[];if(this.isElementNode(a)){r=a.attributes;for(var h=0;h<r.length;h++)i=r[h],n=i.name,this.isDirective(n)&&("v-for"===n&&(s=i),c.push(i));s&&(e.defineProperty(a,"_vfor_directives",c.length),c=[s],s=null),e.each(c,function(t){this.compile(a,t,o)},this)}else this.isTextNode(a)&&this.compileTextNode(a,o)},f.compile=function(i,n,s){var r=n.name,a=n.value,o=[s,i,a,r];if(t.removeAttr(i,r),!a&&"v-else"!==r)return void e.warn("The directive value of "+r+" is empty!");if(0===r.indexOf("v-bind"))this.vbind.parse.apply(this.vbind,o);else if(0===r.indexOf("v-on"))this.von.parse.apply(this.von,o);else switch(r){case"v-el":this.vel.parse.apply(this.vel,o);break;case"v-text":this.vtext.parse.apply(this.vtext,o);break;case"v-html":this.vhtml.parse.apply(this.vhtml,o);break;case"v-show":this.vshow.parse.apply(this.vshow,o);break;case"v-if":this.vif.parse.apply(this.vif,o);break;case"v-else":e.defineProperty(i,"_directive","v-else");break;case"v-model":this.vmodel.parse.apply(this.vmodel,o);break;case"v-for":this.vfor.parse.apply(this.vfor,o);break;default:e.warn(r+" is an unknown directive!")}},f.compileTextNode=function(t,e){var i,n,s,r,a=t.textContent,o=new RegExp("{{(.+?)}}","g"),c=new RegExp("{{{(.+?)}}}","g"),h=a.match(c);h?(i=h[0],r=!0,s=i.replace(/\s\{|\{|\{|\}|\}|\}/g,"")):(h=a.match(o),i=h[0],s=i.replace(/\s|\{|\{|\}|\}/g,"")),n=a.split(i),t._vm_text_prefix=n[0],t._vm_text_suffix=n[n.length-1],r?this.vhtml.parse.call(this.vhtml,e,t,s):this.vtext.parse.call(this.vtext,e,t,s)},f.blockCompileNode=function(t){e.each(this.$unCompileNodes,function(e){return t===e[0]?null:void 0})},f.isElementNode=function(t){return 1===t.nodeType},f.isTextNode=function(t){return 3===t.nodeType},f.isDirective=function(t){return 0===t.indexOf("v-")},f.isLateCompileNode=function(e){return t.hasAttr(e,"v-if")||t.hasAttr(e,"v-for")},f.checkCompleted=function(){0!==this.$unCompileNodes.length||this.$rootComplied||this.rootComplieCompleted()},f.rootComplieCompleted=function(){var e=this.$element;t.empty(e),this.$rootComplied=!0,e.appendChild(this.$fragment)},d}.apply(e,n),!(void 0!==s&&(t.exports=s))},function(t,e,i){var n,s;n=[i(4),i(5),i(1)],s=function(t,e,i){function n(e){this.vm=e,t.call(this)}var s=n.prototype=Object.create(t.prototype);return s.parse=function(t,e,n){var s,r,a,o=this.vm,c=n.match(/(.*) in (.*)/),h=c[1],l=c[2],u=o.watcher,p=e.parentNode,d="OPTION"===e.tagName,f=this.getScope(o,t,l),v=this.getEvalFunc(t,l),m=v.call(f,f),g=l,y=i.getExpKey(l),b=-1,x={},w=[],C=[];return t&&(b=t.level,x=t.scopes,w=t.aliases.slice(0),C=t.accesses.slice(0),g=t.access+"*"+y),i.isArray(m)?(s=[e,m,g,h,w,C,x,++b],r=this.buildList.apply(this,s),e.parentNode.replaceChild(r,e),d&&this.froceUpdateOption(p,t),a={alias:h,aliases:w,access:g,accesses:C,scopes:x,level:b},void(t?u.watchAccess(g,function(t,i,n){this.update(p,e,i,n,a)},this):u.watchModel(g,function(t,i,n){this.update(p,e,i,n,a)},this))):void p.removeChild(e)},s.froceUpdateOption=function(t,i){var n=t._vmodel,s=this.getEvalFunc(i,n),r=this.getScope(this.vm,i,n),a=s.call(r,r);this.vm.updater.updateNodeFormSelectChecked(t,a,e.hasAttr(t,"multiple"))},s.buildList=function(t,e,n,s,r,a,o,c){var h=this.vm,l=i.createFragment();return i.each(e,function(e,i){var u,p=t.cloneNode(!0),d=n+"*"+i;o[s]=e,r[c]=s,a[c]=d,u={alias:s,aliases:r,access:d,accesses:a,scope:e,scopes:o,level:c,index:i},t._vfor_directives>1&&h.blockCompileNode(t),this.signAlias(p,s),h.complieElement(p,!0,u),l.appendChild(p)},this),l},s.signAlias=function(t,e){i.defineProperty(t,"_vfor_alias",e)},s.update=function(t,e,i,n,s){switch(n){case"push":this.pushArray.apply(this,arguments);break;case"pop":this.popArray.apply(this,arguments);break;case"unshift":this.unshiftArray.apply(this,arguments);break;case"shift":this.shiftArray.apply(this,arguments);break;default:this.recompileArray.apply(this,arguments)}},s.pushArray=function(t,e,n,s,r){var a,o,c=i.createFragment(),h=e.cloneNode(!0),l=n.length-1,u=r.alias,p=r.level,d=r.access+"*"+l;r.scopes[u]=n[l],r.accesses[p]=d,o={alias:r.alias,aliases:r.aliases,access:d,accesses:r.accesses,scope:n[l],scopes:r.scopes,level:r.level,index:l},this.signAlias(h,u),this.vm.complieElement(h,!0,o),c.appendChild(h),a=this.getLastChild(t,u),a?t.insertBefore(c,a.nextSibling):t.appendChild(c)},s.popArray=function(t,e,i,n,s){var r=this.getLastChild(t,s.alias);r&&t.removeChild(r)},s.unshiftArray=function(t,e,n,s,r){var a,o=this.vm,c=i.createFragment(),h=e.cloneNode(!0);o.watcher.shiftSubs(r.access,s);var l,u=r.alias,p=r.level,d=r.access+"*0";r.scopes[u]=n[0],r.accesses[p]=d,l={alias:r.alias,aliases:r.aliases,access:d,accesses:r.accesses,scope:n[0],scopes:r.scopes,level:r.level,index:0},this.signAlias(h,u),o.complieElement(h,!0,l),c.appendChild(h),a=this.getFirstChild(t,u),t.insertBefore(c,a)},s.shiftArray=function(t,e,i,n,s){var r=this.getFirstChild(t,s.alias);r&&(t.removeChild(r),this.vm.watcher.shiftSubs(s.access,n))},s.getFirstChild=function(t,e){var i,n,s=null,r=t.childNodes;for(i=0;i<r.length;i++)if(n=r[i],n._vfor_alias===e){s=n;break}return s},s.getLastChild=function(t,e){var i,n,s=null,r=t.childNodes;for(i=r.length-1;i>-1;i--)if(n=r[i],n._vfor_alias===e){s=n;break}return s},s.recompileArray=function(t,e,i,n,s){var r,a,o,c=t.childNodes,h=s.alias,l=[e,i,s.access,h,s.aliases,s.accesses,s.scopes,s.level];this.vm.watcher.removeSubs(s.access),o=this.buildList.apply(this,l);for(var u=0;u<c.length;u++)a=c[u],a._vfor_alias===h&&(r?(u--,t.removeChild(a)):r=a);r?t.replaceChild(o,r):t.appendChild(o)},n}.apply(e,n),!(void 0!==s&&(t.exports=s))},function(t,e,i){var n,s;n=[i(1)],s=function(t){function e(t){return m.test(t)&&!p.test(t)&&0!==t.indexOf("Math.")}function i(t){var e=g.length;return g[e]=t,'"'+e+'"'}function n(t,e){return g[e]}function s(t){var e=t.charAt(0),i=t.slice(1);return c.test(i)?t:(i=-1!==i.indexOf('"')?i.replace(u,n):i,e+"scope."+i)}function r(e,i){var n;return i===e.alias||d.test(i)?e.alias:(t.each(e.aliases,function(t){var e=new RegExp("\\b"+t+"\\.");return e.test(i)?(n=t,!1):void 0}),n)}function a(){}var o="Math.parseInt.parseFloat.Date.this.true.false.null.undefined.Infinity.NaN.isNaN.isFinite.decodeURI.decodeURIComponent.encodeURI.encodeURIComponent",c=new RegExp("^("+o.replace(/\./g,"\\b|")+"\\b)"),h="var.const.let.if.else.for.in.continue.switch.case.break.default.function.return.do.while.delete.try.catch.throw.finally.with.import.export.instanceof.yield.await",l=new RegExp("^("+h.replace(/\./g,"\\b|")+"\\b)"),u=/"(\d+)"/g,p=/^(true|false)$/,d=/^\$index|\W\$\bindex\b/,f=/[\{,]\s*[\w\$_]+\s*:|('[^']*'|"[^"]*")|typeof /g,v=/[^\w$\.]([A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\])*)/g,m=/^[A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/,g=[],y=a.prototype;return y.bind=function(t,e,i){var n=this.vm,s=this.getDependents(t,i),r=this.getScope(n,t,i),a=this.getEvalFunc(t,i);n.watcher.watch(s,function(t,n){var s=this.updateScope(r,i,t,n);this.update(e,a.call(s,s))},this),this.update(e,a.call(r,r))},y.createGetter=function(e){try{return new Function("scope","return "+e+";")}catch(i){t.error("Invalid generated expression: "+e)}},y.getEvalFunc=function(t,e){return this.createGetter(this.replaceScope.apply(this,arguments))},y.replaceScope=function(a,o){var c,h,p=o;if(a){if(c=r(a,o),c===o)return"scope";-1!==a.aliases.indexOf(c)&&(h=new RegExp("\\b"+c+"\\.","g"),p=p.replace(h,""))}return e(p)?"scope."+p:l.test(p)?void t.warn("Avoid using unallow keyword in expression: "+p):(p=(" "+p).replace(f,i),p=p.replace(v,s),p=p.replace(u,n))},y.getScope=function(t,e,i){var n,s={};return e&&(n=r(e,i))?(n===e.alias?(s=e.scope,d.test(i)&&(s.$index=e.index)):s=e.scopes[n],s):t.$data},y.updateScope=function(e,i,n,s){var r,a,o=e;return"object"!=typeof e&&(o=s),"$index"===i?o.$index=s:(r=t.getExpKey(i),a=r&&n!==i&&n.lastIndexOf(r)===n.length-r.length?r:n,o[a]=s),o},y.getDependents=function(e,n){var s=[],a=[],o=" "+n.replace(f,i);return o.replace(v,function(i){var o,c,h,l=i.substr(1);e?(o=r(e,n),c=e.accesses[e.aliases.indexOf(o)]):o=t.getExpAlias(l),"$index"===l||l===o?h=c:c&&(h=c+"*"+t.getExpKey(l)),s.push(l),a.push(h)}),[s,a]},a}.apply(e,n),!(void 0!==s&&(t.exports=s))},function(t,e,i){!(t.exports={empty:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},setAttr:function(t,e,i){t.setAttribute(e,i)},getAttr:function(t,e){return t.getAttribute(e)||""},hasAttr:function(t,e){return t.hasAttribute(e)},removeAttr:function(t,e){t.removeAttribute(e)},addClass:function(t,e){var i,n=t.classList;n?n.add(e):(i=" "+this.getAttr(t,"class")+" ",-1===i.indexOf(" "+e+" ")&&this.setAttr(t,"class",(i+e).trim()))},removeClass:function(t,e){var i,n,s=t.classList;if(s)s.remove(e);else{for(n=" "+e+" ",i=" "+this.getAttr(t,"class")+" ";-1!==i.indexOf(n);)i=i.replace(n," ");this.setAttr(t,"class",i.trim())}t.className||this.removeAttr(t,"class")},addEvent:function(t,e,i,n){t.addEventListener(e,i,n)},removeEvent:function(t,e,i,n){t.removeEventListener(e,i,n)}})},function(t,e,i){var n,s;n=[i(5),i(1)],s=function(t,e){function i(t){this.vm=t,this.$listeners={}}var n=i.prototype;return n.updateNodeTextContent=function(t,e){t.textContent=(t._vm_text_prefix||"")+String(e)+(t._vm_text_suffix||"")},n.updateNodeHtmlContent=function(i,n,s){var r=this.vm;n=String(n),r.isElementNode(i)?(t.empty(i),i.appendChild(e.stringToFragment(n))):r.isTextNode(i)&&(s?this.updateNodeTextContent(i,n):(n=(i._vm_text_prefix||"")+n+(i._vm_text_suffix||""),i.parentNode.replaceChild(e.stringToFragment(n),i)))},n.updateNodeDisplay=function(e,i){var n=this.getSiblingElementNode(e);this.setNodeVisibleDisplay(e),this.updateNodeStyle(e,"display",i?e._visible_display:"none"),n&&(t.hasAttr(n,"v-else")||"v-else"===n._directive)&&(this.setNodeVisibleDisplay(n),this.updateNodeStyle(n,"display",i?"none":n._visible_display))},n.setNodeVisibleDisplay=function(i){var n,s,r;i._visible_display||(n=e.removeSpace(t.getAttr(i,"style")),n&&-1!==n.indexOf("display")&&(s=n.split(";"),e.each(s,function(t){-1!==t.indexOf("display")&&(r=e.getStringKeyValue(t))})),"none"!==r&&(i._visible_display=r||""))},n.updateNodeRenderContent=function(e,i){var n=this.getSiblingElementNode(e);this.setNodeRenderContent(e),this.toggleNodeRenderContent.apply(this,arguments),n&&(t.hasAttr(n,"v-else")||"v-else"===n._directive)&&(this.setNodeRenderContent(n),this.toggleNodeRenderContent(n,!i))},n.setNodeRenderContent=function(e){e._render_content||(e._render_content=e.innerHTML),t.empty(e)},n.toggleNodeRenderContent=function(t,i){var n;i&&(n=e.stringToFragment(t._render_content),this.vm.complieElement(n,!0),t.appendChild(n))},n.getSiblingElementNode=function(t){var e=t.nextSibling,i=this.vm.isElementNode;if(e&&i(e))return e;for(;e;)if(e=e.nextSibling,e&&i(e))return e;return null},n.updateNodeAttribute=function(e,i,n){null===n?t.removeAttr.apply(this,arguments):"value"===i&&-1!==this.vm.$inputs.indexOf(e.tagName.toLowerCase())?e.value=n:t.setAttr.apply(this,arguments)},n.updateNodeClassName=function(e,i,n,s){s?i===!0?t.addClass(e,s):i===!1&&t.removeClass(e,s):(i&&t.addClass(e,i),n&&t.removeClass(e,n))},n.updateNodeStyle=function(t,e,i){t.style[e]=i},n.updateNodeEvent=function(i,n,s,r,a,o){var c,h,l,u,p=this.$listeners,d=!1;-1!==n.indexOf(".")&&(c=n.split("."),n=c.shift(),h=c&&-1!==c.indexOf("self"),l=c&&-1!==c.indexOf("stop"),u=c&&-1!==c.indexOf("prevent"),d=c&&-1!==c.indexOf("capture")),r&&t.removeEvent(i,n,p[o],d),e.isFunc(s)?(p[o]=function(t){var n=[];h&&t.target!==i||(e.each(a,function(e){n.push("$event"===e?t:e)}),n.length||n.push(t),s.apply(this,n),l&&t.stopPropagation(),u&&t.preventDefault())},t.addEvent(i,n,p[o],d)):e.warn("The model: "+o+"'s value for using v-on must be a type of Function!")},n.updateNodeFormTextValue=function(t,e){t.value!==e&&(t.value=e)},n.updateNodeFormRadioChecked=function(t,i){t.checked=t.value===(e.isNumber(i)?String(i):i)},n.updateNodeFormCheckboxChecked=function(t,i){return e.isArray(i)||e.isBoolean(i)?void(t.checked=e.isBoolean(i)?i:-1!==i.indexOf(t.value)):void e.warn("checkbox v-model value must be a type of Boolean or Array!")},n.updateNodeFormSelectChecked=function(t,e,i){var n,s,r,a=t.options,o=a.length;for(n=0;o>n;n++)s=a[n],r=s.value,s.selected=i?-1!==e.indexOf(r):e===r},i}.apply(e,n),!(void 0!==s&&(t.exports=s))},function(t,e,i){var n,s;n=[i(1),i(8)],s=function(t,e){function i(t){this.$model=t,this.$modelSubs={},this.$accessSubs={},this.$indexSubs={},this.observer=new e(t,["$els"],"change",this)}var n=i.prototype;return n.change=function(t,e,i){var n=-1!==t.indexOf("*"),s=n?this.$accessSubs[t]:this.$modelSubs[t];this.trigger(s,t,e,i)},n.trigger=function(e,i,n,s){t.each(e,function(t){t.cb.call(t.ct,i,n,s,t.arg)},this)},n.watch=function(e,i,n,s){var r=e[0],a=e[1];t.each(r,function(e,r){var o=a[r];if("$event"!==e)return"$index"===e?void this.watchIndex(o,i,n,s):o?void this.watchAccess(o,i,n,s):void this.watchModel(t.getExpAlias(e),i,n,s)},this)},n.watchModel=function(e,i,n,s){return t.hasOwn(this.$model,e)?-1!==e.indexOf("*")?void t.warn('Model key cannot contain the character "*"!'):void this.cacheSubs(this.$modelSubs,e,i,n,s):void t.warn('The field: "'+e+'" does not exist in model!')},n.watchAccess=function(t,e,i,n){this.cacheSubs(this.$accessSubs,t,e,i,n)},n.watchIndex=function(t,e,i,n){this.cacheSubs(this.$indexSubs,t,e,i,n)},n.cacheSubs=function(t,e,i,n,s){t[e]||(t[e]=[]),t[e].push({cb:i,ct:n,arg:s})},n.removeSubs=function(e){t.each(this.$accessSubs,function(t,i){return 0===i.indexOf(e)?null:void 0},this)},n.shiftSubs=function(t,e){var i=t+"*";this.shiftIndex(i,e),this.shiftAccess(i,e)},n.getRelate=function(e,i){var n={},s=[];return t.each(Object.keys(i),function(t){0===t.indexOf(e)&&(s.push(t),n[t]=i[t])},this),{caches:n,targets:s}},n.shiftIndex=function(t,e){var i=this.$indexSubs,n=this.getRelate(t,i);if(n.targets.length)switch(e){case"shift":this.shiftIndexForward(t,i,n);break;case"unshift":this.shiftIndexBackward(t,i,n)}},n.shiftIndexForward=function(e,i,n){var s=n.targets,r=n.caches;t.each(s,function(n){var s=+n.substr(e.length).charAt(0),a=n.substr(e.length+1),o=n,c=e+(s+1)+a;i[o]=r[c],t.each(i[o],function(t){t.cb.call(t.ct,o,s,t.arg)},this)},this)},n.shiftIndexBackward=function(e,i,n){var s=n.targets,r=n.caches;t.each(s.reverse(),function(n){var s,a=e+0,o=+n.substr(e.length).charAt(0),c=n.substr(e.length+1),h=n,l=e+(o+1)+c;i[l]=r[h],t.each(i[h],function(t){t.cb.call(t.ct,h,o+1,t.arg)},this),0===o&&(i[a]=s)},this)},n.shiftAccess=function(t,e){var i=this.$accessSubs,n=this.getRelate(t,i);if(n.targets.length)switch(e){case"shift":this.shiftAccessForward(t,i,n);break;case"unshift":this.shiftAccessBackward(t,i,n)}},n.shiftAccessForward=function(e,i,n){var s=n.targets,r=n.caches;t.each(s,function(t){var n=+t.substr(e.length).charAt(0),s=t.substr(e.length+1),a=t,o=e+(n+1)+s;i[a]=r[o]},this)},n.shiftAccessBackward=function(e,i,n){var s=n.targets,r=n.caches;t.each(s,function(t){var n,s=+t.substr(e.length).charAt(0),a=t.substr(e.length+1),o=e+0+a,c=t,h=e+(s+1)+a;i[h]=r[c],0===s&&(i[o]=n)},this)},i}.apply(e,n),!(void 0!==s&&(t.exports=s))},function(t,e,i){var n,s;n=[i(1)],s=function(t){function e(e,i,n,s,r){t.isString(n)&&(n=s[n]),this.$ignores=i,this.$callback=n,this.$context=s,this.$args=r,this.$observers=[e],this.$valuesMap={0:t.copy(e)},this.$arrayAction=921,this.$aviodArrayAction=["shift","unshift","splice"],this.$fixArrayMethods="push|pop|shift|unshift|splice|sort|reverse".split("|"),this.$separator="*",this.observe(e)}var i=e.prototype;return i.observe=function(e,i){return t.isArray(e)&&this.rewriteArrayMethods(e,i),t.each(e,function(t,n){var s=i&&i.slice(0);s?s.push(n):s=[n],this.isIgnore(s)||this.setCache(e,t,n).bindWatching(e,s)},this),this},i.isIgnore=function(e){var i,n=e.join(this.$separator);return t.each(this.$ignores,function(t){return 0===t.indexOf(n)?(i=!0,!1):void 0},this),i},i.getCache=function(t,e){var i=this.$observers.indexOf(t),n=-1===i?null:this.$valuesMap[i];return n?n[e]:n},i.setCache=function(e,i,n){var s=this.$observers,r=this.$valuesMap,a=s.length,o=s.indexOf(e);return-1===o?(s.push(e),r[a]=t.copy(e)):r[o][n]=i,this},i.bindWatching=function(e,i){var n=i[i.length-1];Object.defineProperty(e,n,{get:function(){return this.getCache(e,n)}.bind(this),set:function(){var s=arguments[0],r=this.getCache(e,n);s!==r&&((t.isObject(s)||t.isArray(s))&&this.observe(s,i),this.setCache(e,s,n),-1===this.$aviodArrayAction.indexOf(this.$arrayAction)&&this.triggerChange(i.join(this.$separator),s,r))}.bind(this)});var s=e[n];(t.isArray(s)||t.isObject(s))&&this.observe(s,i)},i.rewriteArrayMethods=function(e,i){var n=t.AP,s=Object.create(n),r=i&&i.join(this.$separator);return t.each(this.$fixArrayMethods,function(e){var a=this,o=n[e];t.defineProperty(s,e,function(){for(var t,n=arguments.length,s=new Array(n);n--;)s[n]=arguments[n];return a.$arrayAction=e,t=o.apply(this,s),a.$arrayAction=921,a.observe(this,i),a.triggerChange(r,this,e),t},!0,!1,!0)},this),e.__proto__=s,this},i.triggerChange=function(t,e,i){this.$callback.apply(this.$context,[t,e,i,this.$args])},e}.apply(e,n),!(void 0!==s&&(t.exports=s))},function(t,e,i){var n,s;n=[i(4),i(1)],s=function(t,e){function i(e){this.vm=e,t.call(this)}var n=i.prototype=Object.create(t.prototype);return n.parse=function(t,i,n,s){var r,a,o,c,h,l=this.vm,u=this.vm.watcher,p=[],d=[],f=this.getDependents(t,n),v=this.getScope(l,t,n),m=e.removeSpace(s),g={};-1!==m.indexOf(":")?(a=e.getStringKeyValue(m),o=e.stringToParameters(n),c=o[0],h=this.evalParams(t,o[1]),this.bindEvent(i,t,v,a,c,h),u.watch(f,function(t,e,n){this.update(i,a,e,n,h,t)},this)):(r=e.convertJsonString(n),e.each(r,function(n,s){var r;o=e.stringToParameters(n),c=o[0]||n,h=this.evalParams(t,o[1]),r=f[1][f[0].indexOf(c)],p.push(c),d.push(r),g[r]={type:s,params:h},this.bindEvent(i,t,v,s,c,h)},this),u.watch([p,d],function(t,e,n){var s=g[t];this.update(i,s.type,e,n,s.params,t)},this))},n.bindEvent=function(t,i,n,s,r,a){var o=this.getEvalFunc(i,r),c=o.call(n,n),h=i&&i.access+"*"+e.getExpKey(r)||r;this.update(t,s,c,null,a,h)},n.evalParams=function(t,i){var n=[],s=this.vm;return e.each(i,function(e){var i,r,a,o=e;"$event"!==o&&(i=this.replaceScope(t,o),-1!==i.indexOf("scope.")&&(a=this.getScope(s,t,o),r=this.createGetter(i),o=r.call(a,a))),n.push(o)},this),n},n.update=function(){var t=this.vm.updater;t.updateNodeEvent.apply(t,arguments)},i}.apply(e,n),!(void 0!==s&&(t.exports=s))},function(t,e,i){var n,s;n=[i(4),i(1)],s=function(t,e){function i(e){this.vm=e,t.call(this)}var n=i.prototype=Object.create(t.prototype);return n.parse=function(t,i,n){var s,r,a;if(t){if(r=e.getExpAlias(n),r!==t.alias)return void e.warn("when v-el use in v-for must be defined inside current loop body!");a=t.scope,e.isObject(a)&&(s=e.getExpKey(n),a[s]=i)}else this.vm.$data.$els[n]=i},i}.apply(e,n),!(void 0!==s&&(t.exports=s))},function(t,e,i){var n,s;n=[i(4),i(1)],s=function(t,e){function i(e){this.vm=e,t.call(this)}var n=i.prototype=Object.create(t.prototype);return n.parse=function(){this.bind.apply(this,arguments)},n.update=function(){var t=this.vm.updater;t.updateNodeRenderContent.apply(t,arguments)},i}.apply(e,n),!(void 0!==s&&(t.exports=s))},function(t,e,i){var n,s;n=[i(4),i(1)],s=function(t,e){function i(e){this.vm=e,t.call(this)}var n=i.prototype=Object.create(t.prototype);return n.parse=function(){this.bind.apply(this,arguments)},n.update=function(){var t=this.vm.updater;t.updateNodeTextContent.apply(t,arguments)},i}.apply(e,n),!(void 0!==s&&(t.exports=s))},function(t,e,i){var n,s;n=[i(4),i(1)],s=function(t,e){function i(e){this.vm=e,t.call(this)}var n=i.prototype=Object.create(t.prototype);return n.parse=function(){this.bind.apply(this,arguments)},n.update=function(){var t=this.vm.updater;t.updateNodeHtmlContent.apply(t,arguments)},i}.apply(e,n),!(void 0!==s&&(t.exports=s))},function(t,e,i){var n,s;n=[i(4),i(1)],s=function(t,e){function i(e){this.vm=e,t.call(this)}var n=i.prototype=Object.create(t.prototype);return n.parse=function(){this.bind.apply(this,arguments)},n.update=function(){var t=this.vm.updater;t.updateNodeDisplay.apply(t,arguments)},i}.apply(e,n),!(void 0!==s&&(t.exports=s))},function(t,e,i){var n,s;n=[i(4),i(1)],s=function(t,e){function i(e){this.vm=e,t.call(this)}var n=i.prototype=Object.create(t.prototype);return n.parse=function(t,i,n,s){var r,a,o=this.vm,c=this.getDependents(t,n),h=this.getScope(o,t,n),l=this.getEvalFunc(t,n),u=l.call(h,h),p=e.removeSpace(s);if(-1!==p.indexOf(":"))switch(r=e.getStringKeyValue(p)){case"class":this.parseClass(i,u,c,n);break;case"style":this.parseStyle(i,u,c,n);break;default:this.parseAttr(i,r,u,c)}else a=e.convertJsonString(n),e.each(u,function(t,e){var n=a[e],s=c[0].indexOf(n),r=c[1][s],o=[[n],[r]];switch(e){case"class":this.parseClass(i,t,o,n);break;case"style":this.parseStyle(i,t,o,n);break;default:this.parseAttr(i,e,t,o)}},this)},n.parseClass=function(t,i,n,s){var r,a=this.vm.watcher,o=e.isObject(i),c=[],h=[],l={};e.isString(i)?this.updateClass(t,i):e.isArray(i)?e.each(i,function(e){this.updateClass(t,e)},this):o&&(r=e.convertJsonString(s),e.each(i,function(e,i){var a,o;r?(a=r[i],o=n[1][n[0].indexOf(a)]):(a=s,o=n[1][n[0].indexOf(a)],o=o?o+"*"+i:s+"*"+i),c.push(a),h.push(o),l[o||a]=i,this.updateClass(t,e,!1,i)},this),a.watch([c,h],function(e,i,n){this.updateClass(t,i,n,l[e])},this)),o||a.watch(n,function(e,i,n){this.updateClass(t,i,n)},this)},n.updateClass=function(){var t=this.vm.updater;t.updateNodeClassName.apply(t,arguments)},n.parseStyle=function(t,i,n,s){var r=this.vm.watcher,a={},o=[],c=[],h=/^\{.*\}$/.test(s.trim());return e.isObject(i)?void(h?(e.each(i,function(i,s){var r,o;e.each(n[0],function(t,i){return t===s||e.getExpKey(t)===s?(r=i,!1):void 0}),o=n[1][r]||n[0][r],a[o]=s,this.updateStyle(t,s,i)},this),r.watch(n,function(e,i,n){this.updateStyle(t,a[e],i)},this)):(e.each(i,function(e,i){var s=n[1][0]||n[0][0],r=s+"*"+i;a[r]=i,o.push(n[0][0]),c.push(r),this.updateStyle(t,i,e)},this),r.watch([o,c],function(e,i,n){this.updateStyle(t,a[e],i)},this))):void e.warn("v-bind for style must be a json or styleObject!")},n.updateStyle=function(){var t=this.vm.updater;t.updateNodeStyle.apply(t,arguments)},n.parseAttr=function(t,e,i,n){this.updateAttr(t,e,i),this.vm.watcher.watch(n,function(i,n,s){this.updateAttr(t,e,n)},this)},n.updateAttr=function(){var t=this.vm.updater;t.updateNodeAttribute.apply(t,arguments)},i}.apply(e,n),!(void 0!==s&&(t.exports=s))},function(t,e,i){var n,s;n=[i(4),i(5),i(1)],s=function(t,e,i){function n(e){this.vm=e,t.call(this)}var s=n.prototype=Object.create(t.prototype);return s.parse=function(t,n,s){var r=this.vm,a=r.$inputs,o=n.tagName.toLowerCase(),c="input"===o?e.getAttr(n,"type"):o;if(-1===a.indexOf(o))return void i.warn("v-model only for using in "+a.join(", "));i.defineProperty(n,"_vmodel",s);var h=this.getDependents(t,s),l=this.getScope(r,t,s),u=this.getEvalFunc(t,s),p=u.call(l,l),d=i.getExpKey(s)||s,f=[n,p,h,l,d];switch(c){case"text":case"textarea":this.parseText.apply(this,f);break;case"radio":this.parseRadio.apply(this,f);break;case"checkbox":this.parseCheckbox.apply(this,f);break;case"select":this.parseSelect.apply(this,f)}},s.parseText=function(t,e,i,n,s){var r=this.vm,a=r.updater;a.updateNodeFormTextValue(t,e),r.watcher.watch(i,function(e,i){a.updateNodeFormTextValue(t,i)},this),this.bindTextEvent(t,n,s)},s.bindTextEvent=function(t,i,n){var s;e.addEvent(t,"compositionstart",function(){s=!0}),e.addEvent(t,"compositionend",function(){s=!1}),e.addEvent(t,"input",function(){s||(i[n]=this.value)}),e.addEvent(t,"change",function(){i[n]=this.value})},s.parseRadio=function(t,e,i,n,s){var r=this.vm,a=r.updater;a.updateNodeFormRadioChecked(t,e),r.watcher.watch(i,function(e,i){a.updateNodeFormRadioChecked(t,i)},this),this.bindRadioEvent(t,n,s)},s.bindRadioEvent=function(t,i,n){e.addEvent(t,"change",function(){i[n]=this.value})},s.parseCheckbox=function(t,e,i,n,s){var r=this.vm,a=r.updater;a.updateNodeFormCheckboxChecked(t,e),r.watcher.watch(i,function(e,i){a.updateNodeFormCheckboxChecked(t,i)},this),this.bindCheckboxEvent(t,n,s,e)},s.bindCheckboxEvent=function(t,n,s,r){e.addEvent(t,"change",function(){var t,e=this.checked,a=this.value;i.isBoolean(r)?n[s]=e:i.isArray(r)&&(t=r.indexOf(a),e?-1===t&&r.push(a):-1!==t&&r.splice(t,1))})},s.parseSelect=function(t,n,s,r,a){var o,c,h,l=this.vm.updater,u=t.options,p=e.hasAttr(t,"multiple"),d=u.length,f=[];if(i.isString(n)){if(p)return void i.warn("<select> cannot be multiple when the model set '"+a+"' as not Array!");h=Boolean(n)}else{if(!i.isArray(n))return void i.warn("the model "+a+" use in <select> must be a type of String or Array!");if(!p)return void i.warn("the model '"+a+"' cannot set as Array when <select> has no multiple propperty!");h=n.length>0}if(h)l.updateNodeFormSelectChecked(t,n,p);else{for(c=0;d>c;c++)o=u[c],o.selected&&f.push(o.value);r[a]=p?f:f[0]}this.vm.watcher.watch(s,function(e,i){l.updateNodeFormSelectChecked(t,i,p)}),this.bindSelectEvent(t,r,a,p)},s.bindSelectEvent=function(t,i,n,s){var r=this;e.addEvent(t,"change",function(){var t=r.getSelected(this);i[n]=s?t:t[0]})},s.getSelected=function(t){var e,i,n=t.options,s=n.length,r=[];for(e=0;s>e;e++)i=n[e],i.selected&&r.push(i.value);return r},n}.apply(e,n),!(void 0!==s&&(t.exports=s))}])});