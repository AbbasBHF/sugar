/*!
 * mvvm.js v1.1.5 (c) 2016 TANG
 * Released under the MIT license
 * Tue Jul 19 2016 14:22:59 GMT+0800 (CST)
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.MVVM=e()}(this,function(){"use strict";function t(t){return"[object Object]"===Y.toString.call(t)}function e(t){return Array.isArray(t)}function i(t){return t instanceof Function}function s(t){return"string"==typeof t}function n(t){return"boolean"==typeof t}function a(t){return"number"==typeof t&&!isNaN(t)}function r(e){return e&&t(e)&&!e.nodeType&&e!==e.window?!e.constructor||tt.call(e.constructor.prototype,"isPrototypeOf"):!1}function c(t){return 0===Object.keys(t).length}function o(){this.$map={},this.$guid=1e3,this.$listeners={}}function h(t,e){for(var i=t.$data.$els,s=e.childNodes,n=0;n<s.length;n++){var a=s[n];if(it.isElement(a)){for(var r=a.attributes,c=0;c<r.length;c++){var o=r[c];"v-el"===o.name&&et.hasOwn(i,o.value)&&(i[o.value]=null)}a.hasChildNodes()&&h(t,a)}}}function u(t,e,i){et.each(e.split(" "),function(e){i?it.removeClass(t,e):it.addClass(t,e)})}function l(t){var e=t.nextSibling;if(e&&it.isElement(e))return e;for(;e;)if(e=e.nextSibling,e&&it.isElement(e))return e;return null}function p(t){if(!t[rt]){var e,i=et.removeSpace(it.getAttr(t,"style"));if(i&&i.indexOf("display")>-1){var s=i.split(";");et.each(s,function(t){t.indexOf("display")>-1&&(e=et.getKeyValue(t))})}"none"!==e&&(t[rt]=e||"")}}function f(t){t[at]||(t[at]=t.innerHTML),it.empty(t)}function d(t){this.vm=t}function v(t,e){for(var i=0;i<t.length;i++)if(0===e.indexOf(t[i]))return t[i]}function m(t,e,i){et.isString(e)&&(e=i[e]),this.$context=i,this.$callback=e,this.$subs=[],this.$method=921,this.observe(t)}function g(t){this.$model=t,this.$modelSubs={},this.$accessSubs={},this.$indexSubs={},this.$deepSubs={},this.observer=new m(t,"change",this)}function b(t){return yt.test(t)&&!mt.test(t)&&0!==t.indexOf("Math.")}function y(t){var e=xt.length;return xt[e]=t,'"'+e+'"'}function x(t,e){return xt[e]}function $(t){var e=t.charAt(0),i=t.slice(1);return pt.test(i)?t:(i=i.indexOf('"')>-1?i.replace(vt,x):i,e+"scope."+i)}function w(t,e){var i,s=e;return s.indexOf(t.alias)>-1?t.alias:(et.each(t.aliases,function(t){return new RegExp("\\b"+t+"\\b|\\b"+t+"\\.").test(s)?(i=t,!1):void 0}),i)}function S(){}function O(t){try{return new Function("scope","return "+t+";")}catch(e){return et.error("Invalid generated expression: "+t),S}}function C(t){return b(t)?"scope."+t:(t=(" "+t).replace(gt,y),t=t.replace(bt,$),t=t.replace(vt,x))}function A(){}function k(t){var e,i,s=et.removeSpace(t),n=s.match(/(\(.*\))/),a=n&&n[0];return a?(i=s.substr(0,s.indexOf(a)),e="["+a.substr(1,a.length-2)+"]"):i=s,{func:i,args:e}}function E(t){var e,i=t.trim();if(/^\{.*\}$/.test(i)){e={};var s=i.length;i=i.substr(1,s-2).replace(/\s/g,"");var n=i.match(/[^,]+:[^:]+((?=,[^:]+:)|$)/g);et.each(n,function(t){var i=et.getKeyValue(t,!0),s=i[0],n=i[1];s&&n&&(s=s.replace(/(^'*)|('*$)|(^"*)|("*$)/g,""),e[s]=n)})}return e}function j(t){this.vm=t,A.call(this)}function N(t){this.vm=t,A.call(this)}function R(t){this.vm=t,A.call(this)}function T(t,e){var i=t.firstChild;if(i&&i[Ct]===e)return i;for(var s=t.childNodes,n=0;n<s.length;n++){var a=s[n];if(a[Ct]===e){i=a;break}}return i}function _(t,e){var i=t.lastChild;if(i&&i[Ct]===e)return i;for(var s=t.childNodes,n=s.length-1;n>-1;n--){var a=s[n];if(a[Ct]===e){i=a;break}}return i}function D(t,e,i){var s=0,n=null,a=t.firstChild,r=t.childNodes;if(a&&a[Ct]===e)return r[i];for(var c=0;c<r.length;c++){var o=r[c];if(o[Ct]===e){if(s===i){n=o;break}s++}}return n}function F(t,e,i,s){for(var n=-1,a=[],r=t.childNodes,c=0;c<r.length;c++){var o=r[c];o[Ct]===e&&n++,n>=i&&i+s>n&&a.push(o)}et.each(a,function(e){return t.removeChild(e),null})}function M(t,e){var i,s,n={};switch(t){case"unshift":for(n[0]=s,i=1;e>i;i++)n[i]=i-1;break;case"shift":for(i=0;e+1>i;i++)n[i]=i+1;n[e]=s}return n}function L(t,e){et.def(t,Ct,e)}function I(t){this.vm=t,A.call(this)}function P(t){this.vm=t,A.call(this)}function V(t){this.vm=t,A.call(this)}function B(t){this.vm=t,A.call(this)}function K(t){this.vm=t,A.call(this)}function U(t){this.vm=t,A.call(this)}function J(t){this.vm=t,this.vclass=new K(t),this.vstyle=new U(t),A.call(this)}function q(t,e){return it.hasAttr(t,"number")?+e:e}function z(t){for(var e=[],i=t.options,s=it.hasAttr(t,"number"),n=0;n<i.length;n++){var a=i[n],r=a.value;a.selected&&e.push(s?+r:q(a,r))}return e}function H(t){this.vm=t,A.call(this)}function Z(t){return 0===t.indexOf("v-")}function W(t){return it.hasAttr(t,"v-if")||it.hasAttr(t,"v-for")||it.hasAttr(t,"v-pre")}function G(t){if(it.isElement(t)&&t.hasAttributes()){for(var e=t.attributes,i=0;i<e.length;i++)if(Z(e[i].name))return!0}else if(it.isTextNode(t)&&Pt.test(t.textContent))return!0}function Q(t,e){return it.isElement(t)?et.isObject(e)?(this.$element=t,this.$fragment=et.nodeToFragment(this.$element),this.$data=e,et.defRec(e,"$els",{}),et.defRec(e,"$scope",{}),this.$unCompiles=[],this.$rootComplied=!1,this.updater=new d(this),this.watcher=new g(this.$data),this.von=new j(this),this.vel=new N(this),this.vif=new R(this),this.vfor=new I(this),this.vtext=new P(this),this.vhtml=new V(this),this.vshow=new B(this),this.vbind=new J(this),this.vmodel=new H(this),this.$inputs="input|select|textarea".split("|"),void this.init()):et.warn("model must be a type of Object: ",e):et.warn("element must be a type of DOMElement: ",t)}function X(t,e,i){var s=this.context=i||this;et.each(e,function(t,i){et.isFunc(t)&&(e[i]=t.bind(s))}),this.backup=et.copy(e),this.vm=new Q(t,e),this.$=this.vm.$data}var Y=Object.prototype,tt=Y.hasOwnProperty,et={isBool:n,isFunc:i,isArray:e,isEmpty:c,isNumber:a,isObject:t,isString:s};et.warn=function(){console.warn.apply(console,arguments)},et.error=function(){console.error.apply(console,arguments)},et.hasOwn=function(t,e){return t&&tt.call(t,e)},et.def=function(t,e,i,s,n,a){return Object.defineProperty(t,e,{value:i,writable:!!s,enumerable:!!n,configurable:!!a})},et.defRec=function(t,e,i){return this.def(t,e,i,!0,!1,!0)},et.clear=function(t){this.each(t,function(){return null})},et.each=function(i,s,n){var a,r,c=this;if(i)if(n||(n=this),e(i))for(r=0;r<i.length&&(a=s.call(n,i[r],r,i),a!==!1);r++)null===a&&(i.splice(r,1),r--);else if(t(i))for(r in i)if(c.hasOwn(i,r)){if(a=s.call(n,i[r],r,i),a===!1)break;null===a&&delete i[r]}},et.extend=function(){var t,s,a,c,o,h,u=arguments,l=this,p=arguments[0]||{},f=1,d=arguments.length,v=!1;for(n(p)&&(v=p,p=arguments[f]||{},f++),"object"==typeof p||i(p)||(p={}),f===d&&(p=this,f--);d>f;f++)if(null!=(t=u[f]))for(s in t)a=p[s],c=t[s],p!==c&&(v&&c&&(r(c)||(o=e(c)))?(o?(o=!1,h=a&&e(a)?a:[]):h=a&&r(a)?a:{},p[s]=l.extend(v,h,c)):void 0!==c&&(p[s]=c));return p},et.copy=function(i){var s;return e(i)?s=i.slice(0):t(i)&&(s=this.extend(!0,{},i)),s||i},et.removeSpace=function(t){return t.replace(/\s/g,"")},et.getKeyValue=function(t,e){var i=t.split(":");return e?i:i.pop()},et.createElement=function(t){return document.createElement(t)},et.createFragment=function(){return document.createDocumentFragment()},et.nodeToFragment=function(t){for(var e,i=this.createFragment();e=t.firstChild;)i.appendChild(e);return i},et.stringToFragment=function(t){var e,i;return/<[^>]+>/g.test(t)?(e=this.createElement("div"),e.innerHTML=t,i=this.nodeToFragment(e)):(i=this.createFragment(),i.appendChild(document.createTextNode(t))),i},et.getExpAlias=function(t){var e=t.indexOf(".");return-1===e?t:t.substr(0,e)},et.getExpKey=function(t){var e=t.lastIndexOf(".");return-1===e?"":t.substr(e+1)},et.diff=function(t,e){return{n:this.getUnique(t,e),o:this.getUnique(e,t)}},et.getUnique=function(i,s){var n={};return this.each(i,function(i,a){var r,o=s[a];if(t(i))r=this.getUnique(i,o),c(r)||(n[a]=r);else if(e(i)){var h=[];this.each(i,function(e,i){var s;t(e)?(s=this.getUnique(e,o[i]),h.push(s)):-1===o.indexOf(e)&&h.push(e)},this),n[a]=h}else i!==o&&(n[a]=i)},this),n},et.makePaths=function(t){var e,i=this,s=t&&t.split("*");if(!s||s.length<2)return[];for(var n=s.length-1;n>-1;n--)if(i.isNumber(+s[n])){e=n+1;break}return s.slice(0,e)},et.getDeepValue=function(t,e){for(var i=e.slice(0);i.length;)t=t[i.shift()];return t},et.makeScopePaths=function(t){var e=0,i=[];if(t.length%2===0)for(;e<t.length;)e+=2,i.push(t.slice(0,e));return i};var it={isElement:function(t){return 1===t.nodeType},isTextNode:function(t){return 3===t.nodeType},empty:function(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t},setAttr:function(t,e,i){"boolean"==typeof i?t[e]=i:i!==this.getAttr(t,e)&&t.setAttribute(e,i)},getAttr:function(t,e){return t.getAttribute(e)||""},hasAttr:function(t,e){return t.hasAttribute(e)},removeAttr:function(t,e){t.removeAttribute(e)},addClass:function(t,e){var i,s=t.classList;this.hasClass(t,e)||(s?s.add(e):(i=" "+this.getAttr(t,"class")+" ",-1===i.indexOf(" "+e+" ")&&this.setAttr(t,"class",(i+e).trim())))},removeClass:function(t,e){var i,s,n=t.classList;if(this.hasClass(t,e)){if(n)n.remove(e);else{for(s=" "+e+" ",i=" "+this.getAttr(t,"class")+" ";i.indexOf(s)>-1;)i=i.replace(s," ");this.setAttr(t,"class",i.trim())}t.className||this.removeAttr(t,"class")}},hasClass:function(t,e){var i,s=t.classList;return s?s.contains(e):(i=" "+this.getAttr(t,"class")+" ",i.indexOf(" "+e+" ")>-1)},addEvent:function(t,e,i,s){t.addEventListener(e,i,s)},removeEvent:function(t,e,i,s){t.removeEventListener(e,i,s)}},st=o.prototype;st.guid=function(){return this.$guid++},st.add=function(t,e,i,s,n){var a=this.$map,r=this.guid(),c=this.$listeners;a[r]=i,c[r]=function(t){i.call(n||this,t)},it.addEvent(t,e,c[r],s)},st.remove=function(t,e,i,s){var n,a=this.$map,r=this.$listeners;et.each(a,function(t,e){return t===i?(n=e,!1):void 0}),n&&(it.removeEvent(t,e,r[n],s),delete a[n],delete r[n])},st.clear=function(){this.$guid=1e3,et.clear(this.$map),et.clear(this.$listeners)};var nt=new o,at="__render",rt="__visible",ct=d.prototype;ct.updateTextContent=function(t,e){t.textContent=String(e)},ct.updateHtmlContent=function(t,e){it.empty(t).appendChild(et.stringToFragment(String(e)))},ct.updateDisplay=function(t,e){var i=l(t);p(t),this.updateStyle(t,"display",e?t[rt]:"none"),i&&(it.hasAttr(i,"v-else")||"v-else"===i.__directive)&&(p(i),this.updateStyle(i,"display",e?"none":i[rt]))},ct.updateRenderContent=function(t,e){var i=l(t);f(t),this.toggleRender.apply(this,arguments),i&&(it.hasAttr(i,"v-else")||"v-else"===i.__directive)&&(f(i),this.toggleRender(i,!e))},ct.toggleRender=function(t,e){var i=this.vm,s=et.stringToFragment(t[at]);e?(i.complieElement(s,!0),t.appendChild(s)):h(i,s)},ct.updateAttribute=function(t,e,i){null===i?it.removeAttr.apply(this,arguments):"value"===e?t.value=i:it.setAttr(t,e,i)},ct.updateClassName=function(t,e,i,s){s?e===!0?u(t,s):e===!1&&u(t,s,!0):(e&&u(t,e),i&&u(t,i,!0))},ct.updateStyle=function(t,e,i){t.style[e]!==i&&(t.style[e]=i)},ct.updateEvent=function(t,e,i,s,n){n?nt.remove(t,e,i,s):nt.add(t,e,i,s)},ct.updateTextValue=function(t,e){t.value!==e&&(t.value=e)},ct.updateRadioChecked=function(t,e){t.checked=t.value===(et.isNumber(e)?String(e):e)},ct.updateCheckboxChecked=function(t,e){var i=t.value;return et.isArray(e)||et.isBool(e)?(it.hasAttr(t,"number")&&(i=+i),void(t.checked=et.isBool(e)?e:e.indexOf(i)>-1)):et.warn("Checkbox v-model value must be a type of Boolean or Array")},ct.updateSelectChecked=function(t,e,i){for(var s=it.hasAttr(t,"number"),n=t.options,a=n.length,r=i||it.hasAttr(t,"multiple"),c=0;a>c;c++){var o=n[c],h=o.value;h=s?+h:it.hasAttr(o,"number")?+h:h,o.selected=r?e.indexOf(h)>-1:e===h}};var ot="push|pop|shift|unshift|splice|sort|reverse".split("|"),ht=m.prototype;ht.observe=function(t,e){return et.isArray(t)&&this.rewriteMethod(t,e),et.each(t,function(i,s){var n=e&&e.slice(0);n?n.push(s):n=[s],this.bindWatch(t,n,i)},this),this},ht.bindWatch=function(t,e,i){var s=e.join("*"),n=e[e.length-1],a=Object.getOwnPropertyDescriptor(t,n),r=a.get,c=a.set,o=this;Object.defineProperty(t,n,{get:function(){return r?r.call(t):i},set:function(a){var h,u=r?r.call(t):i,l=ot.indexOf(o.$method)>-1;if(a!==u){l||!et.isArray(a)&&!et.isObject(a)||o.observe(a,e);var p=v(o.$subs,s);if(p&&(h=t[n]),c?c.call(t,a):i=a,!l){var f;f=p?[p,t[n],h]:[s,a,u],o.trigger.apply(o,f)}}}});var h=t[n],u=et.isObject(h);(et.isArray(h)||u)&&this.observe(h,e),u&&-1===this.$subs.indexOf(s)&&!et.isNumber(+s.split("*").pop())&&this.$subs.push(s)},ht.rewriteMethod=function(t,e){var i=Array.prototype,s=Object.create(i),n=e&&e.join("*");et.each(ot,function(t){var a=this,r=i[t];et.defRec(s,t,function(){for(var i,s=arguments,c=arguments.length,o=new Array(c);c--;)o[c]=s[c];return a.$method=t,i=r.apply(this,o),a.$method=921,a.observe(this,e),a.trigger(n,this,t,o),i})},this),et.defRec(s,"$set",function(t,e){return t>=this.length&&(t=this.length),this.splice(t,1,e)[0]}),et.defRec(s,"$remove",function(t){var e=this.indexOf(t);return e>-1?this.splice(e,1):void 0}),t.__proto__=s},ht.trigger=function(t,e,i,s){this.$callback.apply(this.$context,arguments)},ht.destroy=function(){this.$context=this.$callback=this.$subs=this.$method=null};var ut=g.prototype;ut.change=function(t,e,i,s){var n=t.indexOf("*")>-1,a=n?this.$accessSubs[t]:this.$modelSubs[t];if(this.trigger(a,t,e,i,s),n){var r=t.split("*").shift();this.trigger(this.$deepSubs[r],t,e,i,s)}},ut.trigger=function(t,e,i,s,n){et.each(t,function(t){t.cb.call(t.ct,e,i,s,n||t.arg)})},ut.watch=function(t,e,i,s){var n=t.dep,a=t.acc;et.each(n,function(t,n){var r=a[n];if("$event"!==t)return t.indexOf("$index")>-1?void this.watchIndex(r,e,i,s):r?void this.watchAccess(r,e,i,s):void this.watchModel(et.getExpAlias(t),e,i,s)},this)},ut.watchModel=function(t,e,i,s,n){return et.hasOwn(this.$model,t)?(this.addSubs(this.$modelSubs,t,e,i,s),void(n&&this.addSubs(this.$deepSubs,t,e,i,s))):et.warn("the field: ["+t+"] does not exist in model")},ut.watchAccess=function(t,e,i,s){this.addSubs(this.$accessSubs,t,e,i,s)},ut.watchIndex=function(t,e,i,s){this.addSubs(this.$indexSubs,t,e,i,s)},ut.addSubs=function(t,e,i,s,n){t[e]||(t[e]=[]),t[e].push({cb:i,ct:s,arg:n})},ut.removeSubs=function(t){et.each(this.$indexSubs,function(e,i){return 0===i.indexOf(t)?null:void 0}),et.each(this.$accessSubs,function(e,i){return 0===i.indexOf(t)?null:void 0})},ut.moveSubs=function(t,e){var i=t+"*";this.moveIndex(i,e),this.moveAccess(i,e)},ut.moveIndex=function(t,e){var i={},s=this.$indexSubs,n=et.copy(s);et.each(e,function(e,a){var r,c=t+a,o=t+e;i[c]=n[o],e===r&&(s[c]=r)}),et.each(i,function(e,i){var s=+i.substr(t.length);et.each(e,function(t){t.cb.call(t.ct,"$index",s,t.arg)})}),et.extend(s,i),i=n=null},ut.moveAccess=function(t,e){var i={},s=this.$accessSubs,n=et.copy(s);et.each(e,function(e,a){var r,c=[],o=[],h=t+a,u=t+e;et.each(s,function(t,i){e===r&&0===i.indexOf(h)?(o.push(r),c.push(i)):0===i.indexOf(u)&&(o.push(i),c.push(i.replace(u,h)))}),et.each(c,function(t,e){var a=o[e];a===r?s[t]=r:i[t]=n[a]})}),et.extend(s,i),i=n=null},ut.destroy=function(){et.clear(this.$modelSubs),et.clear(this.$accessSubs),et.clear(this.$indexSubs),et.clear(this.$deepSubs),this.observer.destroy()};var lt="Math.parseInt.parseFloat.Date.this.true.false.null.undefined.Infinity.NaN.isNaN.isFinite.decodeURI.decodeURIComponent.encodeURI.encodeURIComponent",pt=new RegExp("^("+lt.replace(/\./g,"\\b|")+"\\b)"),ft="var.const.let.if.else.for.in.continue.switch.case.break.default.function.return.do.while.delete.try.catch.throw.finally.with.import.export.instanceof.yield.await",dt=new RegExp("^("+ft.replace(/\./g,"\\b|")+"\\b)"),vt=/"(\d+)"/g,mt=/^(true|false)$/,gt=/[\{,]\s*[\w\$_]+\s*:|('[^']*'|"[^"]*")|typeof /g,bt=/[^\w$\.]([A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\])*)/g,yt=/^[A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/,xt=[],$t=A.prototype;$t.bind=function(t,e,i){var s=this.getDeps(t,i),n=this.getScope(t,i),a=this.getEval(t,i),r=t&&et.copy(t.maps);this.update(e,a.call(n,n)),this.vm.watcher.watch(s,function(){n=this.updateScope(n,r,s,arguments),this.update(e,a.call(n,n))},this)},$t.getEval=function(t,e){return dt.test(e)?(et.warn("Avoid using unallow keyword in expression ["+e+"]"),S):(e=C(e),t&&et.each(t.aliases,function(t){var i=new RegExp("scope."+t,"g");e=e.replace(i,function(t){return"scope.$"+t})}),O(e))},$t.getModel=function(){return this.vm.$data},$t.getScope=function(t,e){var i=this.getModel();return t&&(et.defRec(i,"$index",t.index),et.defRec(i,"$scope",t.scopes)),i},$t.updateScope=function(t,e,i,s){var n,a,r=0,c={},o=this.getModel(),h=et.copy(i.acc);return h.unshift(s[0]),et.each(h,function(t){var e=et.makePaths(t);e.length>r&&(n=e,r=e.length)}),n&&(a=et.makeScopePaths(n),et.each(a,function(t){var i=t.length;"$index"===s[0]&&(t[i-1]=s[1]);var n=t[i-2],a=+t[i-1],r=et.getDeepValue(o,t)||{};et.defRec(o,"$index",a),c[e[n]]=r}),et.defRec(o,"$scope",et.extend(t.$scope,c))),o},$t.getDeps=function(t,e){var i=[],s=[],n=" "+e.replace(gt,y),a=n.match(bt);return et.each(a,function(e){var n,a,r,c,o=e.substr(1);t?(n=w(t,e),a=o.indexOf("$index")>-1,(o.indexOf(n)>-1||a)&&(r=t.accesses[t.aliases.indexOf(n)])):n=et.getExpAlias(o),a||o===n?c=r||t&&t.access:r&&"$event"!==o&&(c=r+"*"+et.getExpKey(o)),-1===i.indexOf(o)&&(i.push(o),s.push(c))}),{dep:i,acc:s}};var wt=j.prototype=Object.create(A.prototype);wt.parse=function(t,e,i,s){s.indexOf(":")>-1?this.parseSingle.apply(this,arguments):this.parseJson.apply(this,arguments)},wt.parseSingle=function(t,e,i,s){var n=k(i),a=et.getKeyValue(s),r=n.func,c=n.args,o=this.getDeps(t,r),h=this.getScope(t,r),u=this.getEval(t,r),l=u.call(h,h);this.bindEvent(t,e,r,a,l,c),this.vm.watcher.watch(o,function(i,s,n){this.update(e,a,n,!1,!0),this.bindEvent(t,e,i,a,s,c)},this)},wt.parseJson=function(t,e,i){et.each(E(i),function(i,s){this.parseSingle(t,e,i,s)},this)},wt.bindEvent=function(t,e,i,s,n,a){var r,c,o,h,u=!1;if(s.indexOf(".")>-1){var l=s.split(".");s=l.shift(),r=l&&l.indexOf("self")>-1,c=l&&l.indexOf("stop")>-1,o=l&&l.indexOf("prevent")>-1,u=l&&l.indexOf("capture")>-1,h=0===s.indexOf("key")?+l[0]:null}var p=[];if(a){var f=this.getDeps(t,a),d=t&&et.copy(t.maps),v=this.getScope(t,a);et.defRec(v,"$event","$event");var m=this.getEval(t,a);p=m.call(v,v),this.vm.watcher.watch(f,function(){v=this.updateScope(v,d,f,arguments),p=m.call(v,v)},this)}var g=function(t){r&&t.target!==e||h&&h!==t.keyCode||(p.length?et.each(p,function(e,i){("$event"===e||e instanceof Event)&&(p[i]=t)}):p.push(t),c&&t.stopPropagation(),o&&t.preventDefault(),n.apply(this,p))};this.update(e,s,g,u)},wt.update=function(){var t=this.vm.updater;t.updateEvent.apply(t,arguments)};var St=N.prototype=Object.create(A.prototype);St.parse=function(t,e,i){if(t){var s=et.getExpAlias(i);if(s!==t.alias)return et.warn("If v-el use in v-for, it must be defined on loop body");var n=t.scopes[s];if(et.isObject(n)){var a=et.getExpKey(i);n[a]=e}}else this.vm.$data.$els[i]=e};var Ot=R.prototype=Object.create(A.prototype);Ot.parse=function(){this.bind.apply(this,arguments)},Ot.update=function(){var t=this.vm.updater;t.updateRenderContent.apply(t,arguments)};var Ct="__vfor",At=/(.*) in (.*)/,kt=I.prototype=Object.create(A.prototype);kt.parse=function(t,e,i){var s,n,a,r=this.vm,c=i.match(At),o=c[1],h=c[2],u=r.watcher,l=e.parentNode,p="OPTION"===e.tagName&&"SELECT"===l.tagName,f=this.getScope(t,h),d=this.getEval(t,h),v=d.call(f,f),m=h,g=et.getExpKey(h),b=-1,y={},x={},$=[],w=[];return t&&(x=t.maps,b=t.level,y=t.scopes,$=t.aliases.slice(0),w=t.accesses.slice(0),m=t.access+"*"+g),et.isArray(v)?(s=[e,v,0,m,o,$,w,y,x,++b],n=this.buildList.apply(this,s),e.parentNode.replaceChild(n,e),p&&this.updateOption(l,t),a={alias:o,aliases:$,access:m,accesses:w,scopes:y,level:b,maps:x},void(t?u.watchAccess(m,function(t,i,s,n){this.update(l,e,i,s,a,n)},this):u.watchModel(m,function(t,i,s,n){this.update(l,e,i,s,a,n)},this))):void l.removeChild(e)},kt.updateOption=function(t,e){var i=t.__vmodel,s=this.getEval(e,i),n=this.getScope(e,i),a=s.call(n,n);this.vm.updater.updateSelectChecked(t,a)},kt.buildList=function(t,e,i,s,n,a,r,c,o,h){var u=this.vm,l=et.createFragment();return et.each(e,function(e,p){var f=i+p,d=s.split("*").pop(),v=t.cloneNode(!0),m=s+"*"+f;c[n]=e,a[h]=n,r[h]=m,o[d]=n;var g={alias:n,aliases:a,access:m,accesses:r,scopes:c,maps:o,level:h,index:f};t.__directives>1&&u.block(t),L(v,n),u.complieElement(v,!0,g),l.appendChild(v)},this),l},kt.update=function(t,e,i,s,n,a){switch(s){case"push":this.push.apply(this,arguments);break;case"pop":this.pop.apply(this,arguments);break;case"unshift":this.unshift.apply(this,arguments);break;case"shift":this.shift.apply(this,arguments);break;case"splice":this.splice.apply(this,arguments);break;default:this.recompile.apply(this,arguments)}},kt.updateScopes=function(t){var e=t.scopes,i=t.accesses,s=i.length;if(s>1){var n=t.maps,a=this.vm.$data,r=et.makePaths(i[s-1]);et.each(et.makeScopePaths(r),function(t){var i=t.length-2,s=n[t[i]],r=et.getDeepValue(a,t)||{};e[s]=r})}return e},kt.push=function(t,e,i,s,n){var a=i.length-1,r=n.alias,c=[i[a]],o=this.updateScopes(n),h=[e,c,a,n.access,r,n.aliases,n.accesses,o,n.maps,n.level],u=_(t,r),l=this.buildList.apply(this,h);u?t.insertBefore(l,u.nextSibling):t.appendChild(l)},kt.pop=function(t,e,i,s,n){var a=_(t,n.alias);a&&t.removeChild(a)},kt.unshift=function(t,e,i,s,n){var a,r,c,o=n.alias,h=[i[0]],u=this.updateScopes(n),l=[e,h,0,n.access,o,n.aliases,n.accesses,u,n.maps,n.level];a=M(s,i.length),this.vm.watcher.moveSubs(n.access,a),r=this.buildList.apply(this,l),c=T(t,o),t.insertBefore(r,c)},kt.shift=function(t,e,i,s,n){var a=M(s,i.length),r=T(t,n.alias);r&&(t.removeChild(r),this.vm.watcher.moveSubs(n.access,a))},kt.splice=function(t,e,i,s,n,a){var r=a.shift(),c=a.shift(),o=a,h=a.length;if(0!==c||h){var u,l,p={},f=n.alias,d=i.length,v=c&&!h,m=!c&&h,g=c&&h;if(v){for(u=0;d>u;u++)p[u]=u>=r?u+c:u;if(et.isEmpty(p))return void this.recompile.apply(this,arguments);this.vm.watcher.moveSubs(n.access,p),F(t,f,r,c)}else if(m||g){for(u=0;d>u;u++)m?p[u]=r>u?u:u>=r&&r+h>u?l:u-h:g&&(p[u]=r>u?u:u>=r&&r+h>u?l:u-(h-c));if(et.isEmpty(p)||0===r&&c>d)return void this.recompile.apply(this,arguments);this.vm.watcher.moveSubs(n.access,p),g&&F(t,f,r,c);var b=D(t,f,r),y=this.updateScopes(n),x=[e,o,r,n.access,f,n.aliases,n.accesses,y,n.maps,n.level],$=this.buildList.apply(this,x);t.insertBefore($,b)}}},kt.recompile=function(t,e,i,s,n){var a,r=n.alias,c=t.childNodes,o=this.updateScopes(n),h=[e,i,0,n.access,r,n.aliases,n.accesses,o,n.maps,n.level];this.vm.watcher.removeSubs(n.access);for(var u=this.buildList.apply(this,h),l=0;l<c.length;l++){var p=c[l];p[Ct]===r&&(a?(l--,t.removeChild(p)):a=p)}a?t.replaceChild(u,a):t.appendChild(u)};var Et=P.prototype=Object.create(A.prototype);Et.parse=function(){this.bind.apply(this,arguments)},Et.update=function(){var t=this.vm.updater;t.updateTextContent.apply(t,arguments)};var jt=V.prototype=Object.create(A.prototype);jt.parse=function(t,e,i){this.bind.apply(this,[t,it.isTextNode(e)?e.parentNode:e,i])},jt.update=function(){var t=this.vm.updater;t.updateHtmlContent.apply(t,arguments)};var Nt=B.prototype=Object.create(A.prototype);Nt.parse=function(){this.bind.apply(this,arguments)},Nt.update=function(){var t=this.vm.updater;t.updateDisplay.apply(t,arguments)};var Rt=K.prototype=Object.create(A.prototype);Rt.parse=function(t,e,i){var s=this.getDeps(t,i),n=this.getScope(t,i),a=this.getEval(t,i),r=t&&et.copy(t.maps),c=a.call(n,n);this.updateClass(e,c),this.vm.watcher.watch(s,function(t,i,o){n=this.updateScope(n,r,s,arguments),et.isArray(c)&&(c=[o]),this.updateClass(e,c,!0),c=a.call(n,n),this.updateClass(e,c)},this)},Rt.updateClass=function(t,e,i){et.isString(e)?this.update(t,i?null:e,i?e:null):et.isArray(e)?et.each(e,function(e){this.update(t,i?null:e,i?e:null)},this):et.isObject(e)&&et.each(e,function(e,s){this.update(t,i?!1:e,!1,s)},this)},Rt.update=function(){var t=this.vm.updater;t.updateClassName.apply(t,arguments)};var Tt=U.prototype=Object.create(A.prototype);Tt.parse=function(t,e,i){var s=this.getDeps(t,i),n=this.getScope(t,i),a=this.getEval(t,i),r=t&&et.copy(t.maps),c=a.call(n,n);this.updateStyle(e,c),this.vm.watcher.watch(s,function(t,i,c){et.isObject(c)?(et.each(c,function(t,e){c[e]=null}),this.updateStyle(e,et.extend(i,c))):(n=this.updateScope(n,r,s,arguments),this.updateStyle(e,a.call(n,n)))},this)},Tt.updateStyle=function(t,e,i){return et.isObject(e)?void et.each(e,function(e,s){this.update(t,s,i?null:e)},this):et.warn("Bind for style must be a type of Object",e)},Tt.update=function(){var t=this.vm.updater;t.updateStyle.apply(t,arguments)};var _t=J.prototype=Object.create(A.prototype);_t.parse=function(t,e,i,s){if(s.indexOf(":")>-1){var n=this.vclass,a=this.vstyle,r=et.getKeyValue(s);switch(r){case"class":n.parse.apply(n,arguments);break;case"style":a.parse.apply(a,arguments);break;default:this.parseAttr(t,e,i,r)}}else this.parseJson.apply(this,arguments)},_t.parseJson=function(t,e,i){var s=this.getDeps(t,i),n=this.getScope(t,i),a=this.getEval(t,i),r=et.copy(a.call(n,n)),c=t&&et.copy(t.maps);this.updateJson(e,r),this.vm.watcher.watch(s,function(t,i,o){var h,u;n=this.updateScope(n,c,s,arguments),u=a.call(n,n),h=et.diff(u,r),this.updateJson(e,h.o,!0),this.updateJson(e,h.n),r=et.copy(u)},this)},_t.updateJson=function(t,e,i){var s=this.vclass,n=this.vstyle;et.each(e,function(e,a){switch(a){case"class":s.updateClass(t,e,i);break;case"style":n.updateStyle(t,e,i);break;default:this.update(t,a,e)}},this)},_t.parseAttr=function(t,e,i,s){var n=this.getDeps(t,i),a=this.getScope(t,i),r=this.getEval(t,i),c=t&&et.copy(t.maps);this.update(e,s,r.call(a,a)),this.vm.watcher.watch(n,function(){a=this.updateScope(a,c,n,arguments),this.update(e,s,r.call(a,a))},this)},_t.update=function(){var t=this.vm.updater;t.updateAttribute.apply(t,arguments)};var Dt=H.prototype=Object.create(A.prototype);Dt.parse=function(t,e,i){var s=this.vm,n=s.$inputs,a=e.tagName.toLowerCase(),r="input"===a?it.getAttr(e,"type"):a;if(-1===n.indexOf(a))return et.warn("v-model only for using in "+n.join(", "));et.def(e,"__vmodel",i);var c=this.getDeps(t,i),o=this.getScope(t,i),h=this.getEval(t,i),u=et.makePaths(c.acc[0]||c.dep[0]),l=et.getDeepValue(this.vm.$data,u),p=h.call(o,o),f=et.getExpKey(i)||i,d=[e,p,c,l,f];switch(r){case"text":case"password":case"textarea":this.parseText.apply(this,d);break;case"radio":this.parseRadio.apply(this,d);break;case"checkbox":this.parseCheckbox.apply(this,d);break;case"select":this.parseSelect.apply(this,d)}},Dt.parseText=function(t,e,i,s,n){var a=this.vm,r=a.updater;r.updateTextValue(t,e),a.watcher.watch(i,function(e,i){r.updateTextValue(t,i)},this),this.bindTextEvent(t,s,n)},Dt.bindTextEvent=function(t,e,i){var s;it.addEvent(t,"compositionstart",function(){s=!0}),it.addEvent(t,"compositionend",function(){s=!1}),it.addEvent(t,"input",function(){s||(e[i]=this.value)}),it.addEvent(t,"change",function(){e[i]=this.value})},Dt.parseRadio=function(t,e,i,s,n){var a=this.vm,r=a.updater;it.hasAttr(t,"checked")&&(s[n]=e=q(t,t.value)),r.updateRadioChecked(t,e),a.watcher.watch(i,function(e,i){r.updateRadioChecked(t,i)},this),this.bindRadioEvent(t,s,n)},Dt.bindRadioEvent=function(t,e,i){it.addEvent(t,"change",function(){e[i]=q(this,this.value)})},Dt.parseCheckbox=function(t,e,i,s,n){var a=this.vm,r=a.updater;it.hasAttr(t,"checked")&&(et.isBool(e)?s[n]=e=!0:et.isArray(e)&&e.push(q(t,t.value))),r.updateCheckboxChecked(t,e),a.watcher.watch(i,function(e,i){r.updateCheckboxChecked(t,i)},this),this.bindCheckboxEvent(t,s,n,e)},Dt.bindCheckboxEvent=function(t,e,i,s){it.addEvent(t,"change",function(){var t=this.checked;if(et.isBool(s))e[i]=t;else if(et.isArray(s)){var n=q(this,this.value),a=s.indexOf(n);t?-1===a&&s.push(n):a>-1&&s.splice(a,1)}})},Dt.parseSelect=function(t,e,i,s,n){var a,r=this.vm.updater,c=it.hasAttr(t,"multiple");if(et.isString(e)){if(c)return et.warn("<select> cannot be multiple when the model set ["+n+"] as not Array");a=Boolean(e)}else{if(!et.isArray(e))return et.warn("The model ["+n+"] use in <select> must be a type of String or Array");if(!c)return et.warn("The model ["+n+"] cannot set as Array when <select> has no multiple propperty");a=e.length>0}if(a)r.updateSelectChecked(t,e,c);else{var o=z(t);s[n]=c?o:o[0]}this.vm.watcher.watch(i,function(e,i){r.updateSelectChecked(t,i,c)}),this.bindSelectEvent(t,s,n,c)},Dt.bindSelectEvent=function(t,e,i,s){it.addEvent(t,"change",function(){var t=z(this);e[i]=s?t:t[0]})};var Ft=/\n/g,Mt=/\{\{(.+?)\}\}/g,Lt=/\{\{\{(.+?)\}\}\}/g,It=/\s\{|\{|\{|\}|\}|\}/g,Pt=/(\{\{.*\}\})|(\{\{\{.*\}\}\})/,Vt=Q.prototype;Vt.init=function(){this.complieElement(this.$fragment,!0)},Vt.complieElement=function(t,e,i){var s=this,n=t.childNodes;e&&G(t)&&this.$unCompiles.push([t,i]);for(var a=0;a<n.length;a++){var r=n[a];G(r)&&s.$unCompiles.push([r,i]),r.hasChildNodes()&&!W(r)&&s.complieElement(r,!1,i)}e&&this.compileAll()},Vt.compileAll=function(){et.each(this.$unCompiles,function(t){return this.complieDirectives(t),null},this),this.checkRoot()},Vt.complieDirectives=function(t){var e=t[0],i=t[1];if(it.isElement(e)){for(var s,n=[],a=e.attributes,r=0;r<a.length;r++){var c=a[r],o=c.name;Z(o)&&("v-for"===o&&(s=c),n.push(c))}s&&(et.def(e,"__directives",n.length),n=[s],s=null),et.each(n,function(t){this.compile(e,t,i)},this)}else it.isTextNode(e)&&this.compileText(e,i)},Vt.compile=function(t,e,i){var s=e.name,n=e.value,a=[i,t,n,s];if(it.removeAttr(t,s),0===s.indexOf("v-bind"))this.vbind.parse.apply(this.vbind,a);else if(0===s.indexOf("v-on"))this.von.parse.apply(this.von,a);else switch(s){case"v-el":this.vel.parse.apply(this.vel,a);break;case"v-text":this.vtext.parse.apply(this.vtext,a);break;case"v-html":this.vhtml.parse.apply(this.vhtml,a);break;case"v-show":this.vshow.parse.apply(this.vshow,a);break;case"v-if":this.vif.parse.apply(this.vif,a);break;case"v-else":et.def(t,"__directive","v-else");break;case"v-model":this.vmodel.parse.apply(this.vmodel,a);break;case"v-for":this.vfor.parse.apply(this.vfor,a);break;case"v-pre":break;default:et.warn("["+s+"] is an unknown directive!")}},Vt.compileText=function(t,e){var i,s,n,a,r=[],c=t.textContent.trim().replace(Ft,"");if(Lt.test(c)){if(n=c.match(Lt),s=n[0],i=s.replace(It,""),s.length!==c.length)return et.warn("["+c+"] compile for HTML can not have a prefix or suffix");this.vhtml.parse.call(this.vhtml,e,t,i)}else a=c.split(Mt),n=c.match(Mt),et.each(a,function(t){n.indexOf("{{"+t+"}}")>-1?r.push("("+t+")"):t&&r.push('"'+t+'"')}),this.vtext.parse.call(this.vtext,e,t,r.join("+"))},Vt.block=function(t){et.each(this.$unCompiles,function(e){return t===e[0]?null:void 0})},Vt.checkRoot=function(){0!==this.$unCompiles.length||this.$rootComplied||(this.$rootComplied=!0,this.$element.appendChild(this.$fragment))},Vt.destroy=function(){this.watcher.destroy(),it.empty(this.$element),this.$fragment=this.$data=this.$unCompiles=this.updater=this.$inputs=null,this.von=this.vel=this.vif=this.vfor=this.vtext=this.vhtml=this.vshow=this.vbind=this.vmodel=null};var Bt=X.prototype;return Bt.get=function(t){return et.isString(t)?this.$[t]:this.$},Bt.getItem=function(t){return et.copy(this.get(t))},Bt.set=function(t,e){var i=this.$;et.isString(t)&&(i[t]=e),et.isObject(t)&&et.each(t,function(t,e){i[e]=t})},Bt.reset=function(t){var e=this.$,i=this.backup;et.isString(t)?e[t]=i[t]:et.isArray(t)?et.each(t,function(t){e[t]=i[t]}):et.each(e,function(t,s){e[s]=i[s]})},Bt.watch=function(t,e,i){this.vm.watcher.watchModel(t,function(t,i,s){e.call(this,t,i,s)},this.context,null,i)},Bt.destroy=function(){this.vm.destroy(),this.context=this.vm=this.backup=this.$=null},X});