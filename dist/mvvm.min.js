/*!
 * mvvm.js v1.2.7 (c) 2016 TANG
 * Released under the MIT license
 * Fri Sep 30 2016 09:49:20 GMT+0800 (CST)
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.MVVM=e()}(this,function(){"use strict";function t(t,e){return typeof t===e}function e(t){return"[object Object]"===Qt.toString.call(t)}function n(t){return Array.isArray(t)}function i(e){return t(e,"function")}function s(e){return t(e,"string")}function r(e){return t(e,"boolean")}function o(e){return t(e,"number")&&!isNaN(e)}function a(t){return t&&e(t)&&!t.nodeType&&t!==t.window?!t.constructor||Ht.call(t.constructor.prototype,"isPrototypeOf"):!1}function u(t){return 0===Object.keys(t).length}function h(){}function c(){Jt&&Jt.warn.apply(Jt,arguments)}function f(){Jt&&Jt.error.apply(Jt,arguments)}function l(t,e){return t&&Ht.call(t,e)}function d(t,e,n,i){return Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!!i,configurable:!0})}function p(t,i,s){var r,o;if(s||(s=this),n(t))for(r=0;r<t.length&&(o=i.call(s,t[r],r,t),o!==!1);r++)null===o&&(t.splice(r,1),r--);else if(e(t)){var a=Object.keys(t);for(r=0;r<a.length;r++){var u=a[r];if(o=i.call(s,t[u],u,t),o===!1)break;null===o&&delete t[u]}}}function v(t){p(t,function(){return null})}function g(){var t,e,s,o,u,h,c=arguments,f=arguments[0]||{},l=1,d=arguments.length,p=!1;for(r(f)&&(p=f,f=arguments[l]||{},l++),"object"==typeof f||i(f)||(f={}),l===d&&(f=this,l--);d>l;l++)if(null!=(t=c[l]))for(e in t)s=f[e],o=t[e],f!==o&&(p&&o&&(a(o)||(u=n(o)))?(u?(u=!1,h=s&&n(s)?s:[]):h=s&&a(s)?s:{},f[e]=g(p,h,o)):void 0!==o&&(f[e]=o));return f}function m(t){var i;return n(t)?i=t.slice(0):e(t)&&(i=g(!0,{},t)),i||t}function b(t,e){var n=t.split(":");return e?n:n.pop()}function _(t){return document.createElement(t)}function y(){return document.createDocumentFragment()}function $(t){for(var e,n=y();e=t.firstChild;)n.appendChild(e);return n}function w(t){var e;if(/<[^>]+>/g.test(t)){var n=_("div");n.innerHTML=t,e=$(n)}else e=y(),e.appendChild(document.createTextNode(t));return e}function x(t){return t.replace(Kt,"")}function O(t,e,n){if(!e)return t;for(var i=e.split(".");i.length>1&&l(t,i[0]);)t=t[i.shift()];return e=i[0],"undefined"!=typeof n?void(t[e]=n):t[e]}function C(t){this.key=t,this.watchers=[],this.guid=Xt++}function k(t){return t}function A(t){return""}function D(t){var e=t.charCodeAt(0);if(e>=65&&90>=e||e>=97&&122>=e||e>=48&&57>=e)return ee;switch(e){case 91:case 93:case 46:case 34:case 39:return ne;default:return ie}}function I(t){var e=[],n=t.split(""),i=n.length-1,s=D(n[0]);return re.init(s),p(n,function(t,n){var s=D(t),r=re.set(s,t);r&&e.push(r),n===i&&re.saves&&(e.push(re.saves),re.reset())}),e}function E(t,e){for(;e.length;)t=t[e.shift()];return t}function N(t){return I(x(t))}function L(t,n,i){var s=m(i),r=s.pop(),o=E(t,s);e(o)&&(o[r]=n)}function j(t){var e=ve.length;return ve[e]=t,'"'+e+'"'}function S(t,e){return ve[e]}function T(t){var e=t.charAt(0),n=t.slice(1);return le.test(n)?t:(n=n.indexOf('"')>-1?n.replace(oe,S):n,e+"scope."+n)}function F(t){return ce.test(t)&&!ae.test(t)&&0!==t.indexOf("Math.")}function M(t){return F(t)?"scope."+t:(t=(" "+t).replace(ue,j),t=t.replace(he,T),t=t.replace(oe,S))}function P(t){if(pe.test(t))return c("Avoid using unallow keyword in expression ["+t+"]"),h;try{return new Function("scope","return "+M(t)+";")}catch(e){return f("Invalid generated expression: ["+t+"]"),h}}function U(t){var e=N(t);return e.length?function(t,n){L(t,n,e)}:(f("Invalid setter expression ["+t+"]"),h)}function W(t,e){var n=t&&t.__ob__,i=n&&n.dep.guid;if(i){if(ge.indexOf(i)>-1)return;ge.push(i)}p(t,function(t){W(t,!1)}),e&&(ge.length=0)}function z(t,e,n,s){this.vm=t,g(this,e),this.callback=n,this.context=s||this,this.depIds=[],this.newDepIds=[],this.shallowIds=[],this.depends=[],this.newDepends=[];var r=e.expression,o=i(r);this.getter=o?r:P(r),this.setter=e.duplex?U(r):null,this.oldVal=null,this.value=this.get()}function V(t){this.parser=t,this.$scope=t.$scope}function B(t,e,n,i){this.vm=t,this.el=e,this.desc=n,this.$scope=i,this.parse()}function q(t){return t.prototype=Object.create(B.prototype)}function R(t){return 1===t.nodeType}function Z(t){return 3===t.nodeType}function G(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function Q(t,e){return t.getAttribute(e)||""}function H(t,e){t.removeAttribute(e)}function J(t,e,n){return null==n||n===!1?H(t,e):void(n===!0?(t[e]=n,K(t,e)||t.setAttribute(e,"")):n!==Q(t,e)&&t.setAttribute(e,n))}function K(t,e){return t.hasAttribute(e)}function X(t,e){var n,i=t.classList;return i?i.contains(e):(n=" "+Q(t,"class")+" ",n.indexOf(" "+e+" ")>-1)}function Y(t,e){var n,i=t.classList;e&&!X(t,e)&&(i?i.add(e):(n=" "+Q(t,"class")+" ",-1===n.indexOf(" "+e+" ")&&J(t,"class",(n+e).trim())))}function tt(t,e){var n,i,s=t.classList;if(e&&X(t,e)){if(s)s.remove(e);else{for(i=" "+e+" ",n=" "+Q(t,"class")+" ";n.indexOf(i)>-1;)n=n.replace(i," ");J(t,"class",n.trim())}t.className||H(t,"class")}}function et(t,e,n,i){t.addEventListener(e,n,i)}function nt(t,e,n,i){t.removeEventListener(e,n,i)}function it(t){var e,n=x(Q(t,"style"));if(n&&n.indexOf("display")>-1){var i=n.split(";");p(i,function(t){t.indexOf("display")>-1&&(e=b(t))})}return e||""}function st(t){var e,n,i=x(t),s=i.match($e),r=s&&s[0];return r?(n=i.substr(0,i.indexOf(r)),e="["+r.substr(1,r.length-2)+"]"):n=i,{func:n,args:e}}function rt(t){var e={},n=t.trim();if(ye.test(n)){var i=n.length;n=n.substr(1,i-2).replace(/\s/g,"");var s=n.match(xe);p(s,function(t){var n=b(t,!0),i=n[0],s=n[1];i&&s&&(i=i.replace(we,""),e[i]=s)})}return e}function ot(t,e){var n,i=t.indexOf("."),s="";i>-1?(n=t.substr(0,i),s=t.substr(i+1,t.length)):n=t;var r=st(e),o=r.func,a=r.args;return{type:n,dress:s,func:o,args:a}}function at(t){var e=[],n=t.args,i=t.expression;if(n)e.push(ot(n,i));else{var s=rt(i);p(s,function(t,n){e.push(ot(n,t))})}return e}function ut(t,e){var n=e.indexOf("self")>-1,i=e.indexOf("stop")>-1,s=e.indexOf("prevent")>-1,r=e.indexOf("capture")>-1,o=0===t.indexOf("key")?+e:null;return{self:n,stop:i,prevent:s,capture:r,keyCode:o}}function ht(){this.agents={},this.funcWatchers=[],this.argsWatchers=[],B.apply(this,arguments)}function ct(){B.apply(this,arguments)}function ft(t,e){for(var n=t.$data.$els,i=e.childNodes,s=0;s<i.length;s++){var r=i[s];if(R(r)){for(var o=r.attributes,a=0;a<o.length;a++){var u=o[a];"v-el"===u.name&&l(n,u.value)&&(n[u.value]=null)}r.hasChildNodes()&&ft(t,r)}}}function lt(){B.apply(this,arguments)}function dt(t){Ee?Ee(t,Ne):t.__proto__=Ne}function pt(t){p(t,function(e,n){bt(t,n,e)})}function vt(t,e){dt(t),p(t,function(t){mt(t,e)})}function gt(t,e){this.dep=new C(e),n(t)?vt(t,e):pt(t),d(t,"__ob__",this)}function mt(t,i){return e(t)||n(t)?l(t,"__ob__")?t.__ob__:new gt(t,i):void 0}function bt(t,e,i){var s=new C(e),r=Object.getOwnPropertyDescriptor(t,e),o=r&&r.get,a=r&&r.set,u=mt(i,e);Object.defineProperty(t,e,{get:function(){var e=o?o.call(t):i;return C.watcher&&(s.depend(),u&&u.dep.depend()),n(e)&&p(e,function(t){var e=t&&t.__ob__;e&&e.dep.depend()}),e},set:function(n){var r=o?o.call(t):i;n!==r&&(s.beforeNotify(),a?a.call(t,n):i=n,u=mt(n,e),s.notify())}})}function _t(t,e){var n=new z(t,{expression:e.bind(t)});return function(){return C.watcher&&p(n.depends,function(t){t.depend()}),n.value}}function yt(t,e){p(e,function(e,n){return i(e)?void Object.defineProperty(t,n,{set:h,get:_t(t,e)}):c("computed property ["+n+"] must be a getter function!")})}function $t(){B.apply(this,arguments)}function wt(){B.apply(this,arguments)}function xt(){B.apply(this,arguments)}function Ot(t){var e=it(t);"none"!==e&&d(t,Ue,e||"")}function Ct(t,e){t.style.display=e}function kt(){B.apply(this,arguments)}function At(t,i){var s={};return p(t,function(t,r){var o,a=i[r];if(e(t))o=At(t,a),u(o)||(s[r]=o);else if(n(t)){var h=[];p(t,function(t,n){var i;e(t)?(i=At(t,a[n]),h.push(i)):a.indexOf(t)<0&&h.push(t)}),s[r]=h}else t!==a&&(s[r]=t)}),s}function Dt(t,e){var i=[];return n(t)&&n(e)?(p(t,function(t){e.indexOf(t)<0&&i.push(t)}),i):t}function It(t,i){var s=n(t)&&n(i),r=e(t)&&e(i),o=r?At:s?Dt:null,a=o&&o(t,i)||t,u=o&&o(i,t)||i;return{after:a,before:u}}function Et(t,n){var i=t.style;return e(n)?void p(n,function(t,e){i[e]!==t&&(i[e]=t)}):c("v-bind for style must be a type of Object",n)}function Nt(t,e,n){p(e.split(" "),function(e){n?tt(t,e):Y(t,e)})}function Lt(t,i,r){s(i)?Nt(t,i,r):n(i)?p(i,function(e){Nt(t,e,r)}):e(i)&&p(i,function(e,n){Nt(t,n,r||!e)})}function jt(){B.apply(this,arguments)}function St(t,e){return setTimeout(function(){t.call(t)},Mt(e)||0)}function Tt(t,e){for(var n=[],i=t.options,s=0;s<i.length;s++){var r=i[s],o=r.value;r.selected&&n.push(Pt(o,e))}return n}function Ft(t){return null==t?"":t.toString()}function Mt(t){if(s(t)){var e=Number(t);return o(e)?e:t}return t}function Pt(t,e){return e?Mt(t):t}function Ut(t,e){for(var n=0;n<e.length;n++)if(e[n]==t)return n;return-1}function Wt(){B.apply(this,arguments)}function zt(){B.apply(this,arguments)}function Vt(t){return 0===t.indexOf("v-")}function Bt(t){return K(t,"v-if")||K(t,"v-for")||K(t,"v-pre")}function qt(t){if(R(t)&&t.hasAttributes()){for(var e=t.attributes,n=0;n<e.length;n++)if(Vt(e[n].name))return!0}else if(Z(t)&&sn.test(t.textContent))return!0}function Rt(t){var e,n,i=t.name,s=t.value,r=i.indexOf(":");return r>-1?(n=i.substr(r+1),e=i.substr(0,r)):e=i,{args:n,attr:i,directive:e,expression:s}}function Zt(t){var n=t.model,i=t.view,s=t.computed;return R(i)?e(n)?(this.$queue=[],this.$data=n,this.$element=i,d(this.$data,"$els",{}),this.$directives=[],this.$parsers=Ke,this.$ob=mt(this.$data,"__MODEL__"),s&&yt(this.$data,s),this.$afters=[],this.$customs=t.customs||{},void(t.lazy||this.mount())):c("model must be a type of Object: ",n):c("view must be a type of DOMElement: ",i)}function Gt(t){var e=t.context||t.model;this.__ct__=e,this.__bk__=m(t.model),p(t.model,function(n,s){i(n)&&(t.model[s]=n.bind(e))}),p(t.methods,function(n,i){t.model[i]=n.bind(e)}),this.__vm__=new Zt(t),this.$data=this.__vm__.$data,this._watchBatch(t.watches)}var Qt=Object.prototype,Ht=Qt.hasOwnProperty,Jt=window.console,Kt=/\s/g,Xt=0;C.watcher=null;var Yt=C.prototype;Yt.addWatcher=function(t){this.watchers.push(t)},Yt.removeWatcher=function(t){var e=this.watchers.indexOf(t);e>-1&&this.watchers.splice(e,1)},Yt.depend=function(){C.watcher&&C.watcher.addDepend(this)},Yt.beforeNotify=function(){p(this.watchers,function(t){t.beforeUpdate()})},Yt.notify=function(t){var e=this.guid;p(this.watchers,function(n){n.update(t,e)})};var te=0,ee=1,ne=2,ie=1,se=[0,k,A,k],re={init:function(t){this.saves="",this.state=t},set:function(t,e){var n=this.get(t),i=n.keepIdent,s=n.tobeQuote,r=n.tobeIdent;if(i)this.save(t,e);else{if(s){var o=this.saves;return this.saves="",this.change(t),o}r&&(this.save(t,e),this.change(t))}},get:function(t){var e=this.state,n=e===ee&&t===ee,i=(e===ee||e===te)&&t===ne,s=e===ne&&t===ne,r=(e===ne||e===te)&&t===ee;return{keepIdent:n,tobeQuote:i,keepQuote:s,tobeIdent:r}},change:function(t){this.state=t},save:function(t,e){this.saves+=se[t](e)},reset:function(){this.saves="",this.state=te}},oe=/"(\d+)"/g,ae=/^(true|false)$/,ue=/[\{,]\s*[\w\$_]+\s*:|('[^']*'|"[^"]*")|typeof /g,he=/[^\w$\.]([A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\])*)/g,ce=/^[A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/,fe="Math.parseInt.parseFloat.Date.this.true.false.null.undefined.Infinity.NaN.isNaN.isFinite.decodeURI.decodeURIComponent.encodeURI.encodeURIComponent",le=new RegExp("^("+fe.replace(/\./g,"\\b|")+"\\b)"),de="var.const.let.if.else.for.in.continue.switch.case.break.default.function.return.do.while.delete.try.catch.throw.finally.with.import.export.instanceof.yield.await",pe=new RegExp("^("+de.replace(/\./g,"\\b|")+"\\b)"),ve=[],ge=[],me=z.prototype;me.getScope=function(){return this.context.$scope||this.vm.$data},me.getValue=function(){var t=this.getScope();return this.getter.call(t,t)},me.setValue=function(t){var e=this.getScope();this.setter&&this.setter.call(e,e,t)},me.get=function(){var t;return this.beforeGet(),t=this.getValue(),this.deep&&(this.shallowIds=m(this.newDepIds),W(t,!0)),this.afterGet(),t},me.beforeGet=function(){C.watcher=this},me.addDepend=function(t){var e=t.guid,n=this.newDepIds;n.indexOf(e)<0&&(n.push(e),this.newDepends.push(t),this.depIds.indexOf(e)<0&&t.addWatcher(this))},me.removeDepends=function(t){p(this.depends,function(e){t?t.call(this,e)&&e.removeWatcher(this):e.removeWatcher(this)},this)},me.afterGet=function(){C.watcher=null,this.removeDepends(function(t){return this.newDepIds.indexOf(t.guid)<0}),this.depIds=m(this.newDepIds),this.newDepIds.length=0,this.depends=m(this.newDepends),this.newDepends.length=0},me.beforeUpdate=function(){this.oldVal=m(this.value)},me.update=function(t,e){var n=this.oldVal,i=this.value=this.get(),s=this.callback;if(s&&n!==i){var r=this.deep&&this.shallowIds.indexOf(e)<0;s.call(this.context,i,n,r,t)}},me.destroy=function(){this.value=null,this.removeDepends(),this.getter=this.setter=null,this.vm=this.callback=this.context=null};var be=V.prototype;be.mount=function(){var t=this.parser,e=this.watcher=new z(t.vm,t.desc,this.update,this);this.update(e.value)},be.destroy=function(){this.watcher.destroy(),this.parser=this.$scope=null},be.update=function(t,e,n,i){var s=this.parser;s.update.call(s,t,e,n,i)},be.get=function(){return this.watcher.value},be.set=function(t){this.watcher.setValue(t)};var _e=B.prototype;_e.bind=function(){this.directive=new V(this),this.directive.mount()},_e.destroy=function(){var t=this.directive;t?t.destroy():i(this._destroy)&&this._destroy(),this.vm=this.desc=this.$scope=null};var ye=/^\{.*\}$/,$e=/(\(.*\))/,we=/(^'*)|('*$)|(^"*)|("*$)/g,xe=/[^,]+:[^:]+((?=,[^:]+:)|$)/g,Oe=2e3,Ce="__vonid__",ke=q(ht);ke.parse=function(){p(at(this.desc),function(t){this.parseEvent(t)},this)},ke.getExpDesc=function(t){return g({},this.desc,{expression:t})},ke.parseEvent=function(t){var e=t.func,n=t.args,i=t.type,s=t.dress,r=s.indexOf("capture")>-1;if("$remove"===e)return this.removeItem(i,s);var o=this.getExpDesc(e),a=new z(this.vm,o,function(t,e){this.off(i,e,r),this.bindEvent(i,s,t,n)},this);this.bindEvent(i,s,a.value,n),this.funcWatchers.push(a)},ke.removeItem=function(t,e){var n=this.$scope;if(!n)return c("The specify event $remove must be used in v-for scope");var i=n.__alias__;this.bindEvent(t,e,function(){n.__viterator__.$remove(n[i])},"["+i+"]")},ke.bindEvent=function(t,e,n,i){var s=ut(t,e),r=s.self,o=s.stop,a=s.prevent,u=s.capture,h=s.keyCode;d(this.$scope||this.vm.$data,"$event","__e__");var c=[];if(i){var f=this.getExpDesc(i),l=new z(this.vm,f,function(t){c=t},this);c=l.value,this.argsWatchers.push(l)}var v=this.el,g=function(t){r&&t.target!==v||h&&h!==t.keyCode||(c.length?p(c,function(e,n){("__e__"===e||e instanceof Event)&&(c[n]=t)}):c.push(t),a&&t.preventDefault(),o&&t.stopPropagation(),n.apply(this,c))},m=Oe++;n[Ce]=m,this.agents[m]=g,this.on(t,g,u)},ke.on=function(t,e,n){et(this.el,t,e,n)},ke.off=function(t,e,n){var i=this.agents,s=e[Ce],r=i[s];r&&(nt(this.el,t,r,n),delete i[s])},ke._destroy=function(){v(this.agents),p(this.funcWatchers,function(t){t.destroy()}),p(this.argsWatchers,function(t){t.destroy()})};var Ae=q(ct);Ae.parse=function(){if(this.$scope)c("v-el can not be used inside v-for!");else{var t=this.desc.expression;this.vm.$data.$els[t]=this.el}};var De=q(lt);De.parse=function(){var t=this.el,e=t.nextElementSibling;this.elFrag=$(t),e&&K(e,"v-else")&&(this.elseEl=e,this.elseElFrag=$(e)),this.bind()},De.update=function(t){var e=this.elseEl;this.toggle(this.el,this.elFrag,t),e&&this.toggle(e,this.elseElFrag,!t)},De.toggle=function(t,e,n){var i=this.vm,s=e.cloneNode(!0);n?(i.compile(s,!0,this.$scope),t.appendChild(s)):(G(t),ft(i,s))};var Ie=Array.prototype,Ee=Object.setPrototypeOf,Ne=Object.create(Ie),Le=["pop","push","sort","shift","splice","unshift","reverse"];p(Le,function(t){var e=Ie[t];d(Ne,t,function(){for(var n=arguments,i=[],s=this.__ob__,r=0;r<arguments.length;r++)i.push(n[r]);s.dep.beforeNotify();var o,a=e.apply(this,i);switch(t){case"push":case"unshift":o=i;break;case"splice":o=i.slice(2)}return o&&o.length&&vt(o),s.dep.notify({method:t,args:i}),a})}),d(Ie,"$set",function(t,e){return t>=this.length&&(t=this.length),this.splice(t,1,e)[0]}),d(Ie,"$remove",function(t){var e=this.indexOf(t);return e>-1?this.splice(e,1):void 0});var je="__vfor__",Se=/(.*) (?:in|of) (.*)/,Te="push|pop|shift|unshift|splice".split("|"),Fe=q($t);Fe.parse=function(){var t=this.el,e=this.desc,n=t.parentNode,i=e.expression,s=i.match(Se);if(!s)return c('The format of v-for must be like "item in/of items"!');var r=s[1],o=s[2];this.scopes=[],this.init=!0,this.alias=r,this.partly=!1,this.partlyArgs=[],this.$parent=n,this.$end=t.nextSibling,this.$start=t.previousSibling,this.isOption="OPTION"===t.tagName&&"SELECT"===n.tagName,e.expression=o,this.bind(),this.updateModel()},Fe.updateModel=function(t){if(this.isOption){var e=this.$parent.__vmodel__;e&&e.forceUpdate(t)}},Fe.update=function(t,e,n,i){this.init?this.initList(t):i&&Te.indexOf(i.method)>-1?(this.partly=!0,this.updatePartly(t,i),this.partly=!1):(this.recompileList(t),this.updateModel(!0))},Fe.initList=function(t){this.init=!1;var e=this.buildList(t);this.$parent.replaceChild(e,this.el)},Fe.updatePartly=function(t,e){var n=[],i=e.args,s=e.method,r=this.scopes;switch(this[s].call(this,t,i),s){case"pop":case"shift":break;case"push":case"unshift":n=this.partlyArgs;break;case"splice":n=i.slice(0,2),Array.prototype.push.apply(n,this.partlyArgs)}r[s].apply(r,n),this.partlyArgs.length=0,p(r,function(t,e){t.$index=e})},Fe.recompileList=function(t){for(var e,n=this.$end,i=this.$start,s=this.$parent;(e=i&&i.nextSibling||s.firstChild)&&(!n||e!==n);)s.removeChild(e);this.scopes.length=0;var r=this.buildList(t);s.insertBefore(r,n)},Fe.buildList=function(t,e){var n=this.vm,i=this.el,s=i.__dirs__,r=e||0,o=y(),a=this.directive.watcher.value;return p(t,function(t,e){var u=r+e,h=this.alias,c=i.cloneNode(!0),f=Object.create(this.$scope||n.$data);bt(f,h,t),bt(f,"$index",u),d(f,"__alias__",h),d(f,"__viterator__",a),this.partly?this.partlyArgs.push(f):this.scopes.push(f),s>1&&n.block(i),d(c,je,h),n.compile(c,!0,f),o.appendChild(c)},this),o},Fe.getChilds=function(){for(var t=this,e=[],n=this.$parent.childNodes,i=0;i<n.length;i++){var s=n[i];s[je]===t.alias&&e.push(s)}return e},Fe.getFirst=function(){var t=this.$start;return t&&t.nextSibling||this.$parent.firstChild},Fe.getLast=function(){var t=this.$end;return t&&t.previousSibling||this.$parent.lastChild},Fe.getChild=function(t){return this.getChilds()[t]},Fe.shift=function(){var t=this.getFirst();t&&this.$parent.removeChild(t)},Fe.pop=function(){var t=this.getLast();t&&this.$parent.removeChild(t)},Fe.push=function(t,e){var n=this.buildList(e,t.length-1);this.$parent.insertBefore(n,this.$end)},Fe.unshift=function(t,e){var n=this.getFirst(),i=this.buildList(e,0);this.$parent.insertBefore(i,n)},Fe.splice=function(t,e){var n=e[0],i=e[1],s=e.slice(2),r=s.length;if(0!==i||r){var o=i&&!r,a=!i&&r,u=i&&r,h=this.$parent;if(o||u){var c=this.getChilds();p(c,function(t,e){e>=n&&n+i>e&&h.removeChild(t)}),c=null}if(a||u){var f=this.getChild(n),l=this.buildList(s,n);h.insertBefore(l,f)}}};var Me=q(wt);Me.parse=function(){this.bind()},Me.update=function(t){this.el.textContent=String(t)};var Pe=q(xt);Pe.parse=function(){this.bind()},Pe.update=function(t){G(this.el).appendChild(w(String(t)))};var Ue="__visible__",We=q(kt);We.parse=function(){var t=this.el;Ot(t);var e=t.nextElementSibling;e&&K(e,"v-else")&&(this.elseEl=e,Ot(e)),this.bind()},We.update=function(t){var e=this.el,n=this.elseEl;Ct(e,t?e[Ue]:"none"),n&&Ct(n,t?"none":n[Ue])};var ze=q(jt);ze.parse=function(){this.desc.deep=!0,this.bind()},ze.update=function(t,e){var n=this.desc.args;n?this.single(n,t,e):this.multi(t,e)},ze.single=function(t,e,n){switch(t){case"class":this.handleClass(e,n);break;case"style":this.handleStyle(e,n);break;default:this.handleAttr(t,e)}},ze.multi=function(t,e){if(e){var n=It(t,e),i=n.after,s=n.before;this.batch(i,s)}this.batch(t)},ze.batch=function(t,e){p(t,function(t,n){this.single(n,t,e&&e[n])},this)},ze.handleClass=function(t,e){var n=this.el;if(e){var i=It(t,e),s=i.after,r=i.before;Lt(n,r,!0),Lt(n,s)}else Lt(n,t)},ze.handleStyle=function(t,e){var n=this.el;e&&(p(e,function(t,n){e[n]=""}),Et(n,e)),Et(n,t)},ze.handleAttr=function(t,e){J(this.el,t,e)};var Ve=window.navigator.userAgent.toLowerCase(),Be=Ve&&Ve.indexOf("msie 9.0")>0,qe={bind:function(){function t(t){var e=Pt(t,s);r?St(function(){n.onDebounce=!0,o.set(e)},r):o.set(e)}var e,n=this,i=this.lazy,s=this.number,r=this.debounce,o=this.directive;this.on("compositionstart",function(){e=!0}),this.on("compositionend",function(){e=!1,i||t(this.value)}),this.on("input",function(){e||i||t(this.value)}),this.on("blur",function(){t(this.value)}),this.on("change",function(){t(this.value)}),Be&&(this.on("cut",function(){var e=this;St(function(){return t(e.value)})}),this.on("keyup",function(e){var n=e.keyCode;8!==n&&46!==n||t(this.value)}))},update:function(t){var e=this.el,n=Ft(t);e.value===n||this.onDebounce||(e.value=n)}},Re={bind:function(){var t=this.number,e=this.directive;this.on("change",function(){e.set(Pt(this.value,t))})},update:function(t){var e=this.el;e.checked=e.value===Ft(t)}},Ze={bind:function(){var t=this.multi,e=this.number,n=this.directive;this.on("change",function(){var i=Tt(this,e);n.set(t?i:i[0])}),this.vm.after(this.forceUpdate,this)},update:function(t){var e=this,i=this.el,s=i.options,r=this.multi,o=this.desc.expression;if(i.selectedIndex=-1,r&&!n(t))return c("<select> cannot be multiple when the model set ["+o+"] as not Array");if(!r&&n(t))return c("The model ["+o+"] cannot set as Array when <select> has no multiple propperty");for(var a=0;a<s.length;a++){var u=s[a],h=Pt(u.value,e.number);u.selected=r?Ut(h,t)>-1:t===h}},forceUpdate:function(t){var e=this.directive;t?e.set(this.multi?[]:""):this.update(e.get())}},Ge={bind:function(){var t=this.number,e=this.directive;this.on("change",function(){var i=e.get(),s=this.checked;if(r(i))e.set(s);else if(n(i)){var o=Pt(this.value,t),a=Ut(o,i);s&&-1===a?i.push(o):a>-1&&i.splice(a,1)}})},update:function(t){var e=this.el,i=Pt(e.value,this.number);return n(t)||r(t)?void(e.checked=r(t)?t:Ut(i,t)>-1):c("Checkbox v-model value must be a type of Boolean or Array")}},Qe=["input","select","textarea"],He=q(Wt);He.parse=function(){var t=this.el,e=this.desc,n=t.tagName.toLowerCase(),i="input"===n?Q(t,"type"):n;return Qe.indexOf(n)<0?c("v-model only for using in "+Qe.join(", ")):F(e.expression)?(e.duplex=!0,void this.bindDuplex(i)):c("v-model directive value can be use by static expression")},He.bindDuplex=function(t){var e,n=this.el;switch(t){case"text":case"password":case"textarea":e=qe,this.lazy=K(n,"lazy"),this.debounce=Q(n,"debounce");break;case"radio":e=Re;break;case"checkbox":e=Ge;break;case"select":e=Ze,d(n,"__vmodel__",this),this.multi=K(n,"multiple"),this.forceUpdate=Ze.forceUpdate.bind(this)}return e?(this.number=K(n,"number"),this.update=e.update.bind(this),this.bind(),void e.bind.call(this)):c("Do not use incorrect form-type with v-model: ",n)},He.on=function(t,e){et(this.el,t,e,!1)};var Je=q(zt);Je.parse=function(){var t=this.desc,e=this.vm.$customs[t.args];return i(e)?(this.update=e,void this.bind()):c("Custom directive ["+t.attr+"] must define with a refresh function!")};var Ke={von:ht,vel:ct,vif:lt,vfor:$t,vtext:wt,vhtml:xt,vshow:kt,vbind:jt,vmodel:Wt,vcustom:zt},Xe=/\n/g,Ye=/\{\{(.+?)\}\}/g,tn=/\{\{\{(.+?)\}\}\}/g,en=/\s\{|\{|\{|\}|\}|\}/g,nn=["velse","vpre","vcloak"],sn=/(\{\{.*\}\})|(\{\{\{.*\}\}\})/,rn=Zt.prototype;rn.mount=function(){this.$done=!1,this.$fragment=$(this.$element),this.compile(this.$fragment,!0)},rn.compile=function(t,e,n){var i=this,s=t.childNodes;e&&qt(t)&&this.$queue.push([t,n]);for(var r=0;r<s.length;r++){var o=s[r];qt(o)&&i.$queue.push([o,n]),o.hasChildNodes()&&!Bt(o)&&i.compile(o,!1,n)}e&&this.compileAll()},rn.compileAll=function(){p(this.$queue,function(t){return this.complieNode(t),null},this),this.completed()},rn.complieNode=function(t){var e=t[0],n=t[1];if(R(e)){for(var i,s,r,o,a=[],u=e.attributes,h=0;h<u.length;h++){var c=u[h],f=c.name;Vt(f)&&("v-for"===f?i=c:"v-model"===f?(s=!0,o=a.length):0===f.indexOf("v-bind")&&(r=!0),a.push(c))}if(!i&&r&&s&&a.length>1&&o!==a.length-1){var l=a.splice(o,1)[0];a.push(l),l=null}i&&(d(e,"__dirs__",a.length),a=[i],i=null),p(a,function(t){this.parse(e,t,n)},this)}else Z(e)&&this.parseText(e,n)},rn.parse=function(t,e,n){var i=Rt(e),s=i.directive,r="v"+s.substr(2),o=this.$parsers[r];H(t,i.attr),nn.indexOf(r)>-1||(o?this.$directives.push(new o(this,t,i,n)):c("["+s+"] is an unknown directive!"))},rn.parseText=function(t,e){var n,i,s,r,o=[],a={},u=t.textContent.trim().replace(Xe,"");if(tn.test(u)){if(s=u.match(tn),i=s[0],n=i.replace(en,""),i.length!==u.length)return c("["+u+"] compile for HTML can not have a prefix or suffix");a.expression=n,this.$directives.push(new Ke.vhtml(this,t.parentNode,a,e))}else r=u.split(Ye),s=u.match(Ye),p(r,function(t){s.indexOf("{{"+t+"}}")>-1?o.push("("+t+")"):t&&o.push('"'+t+'"')}),a.expression=o.join("+"),this.$directives.push(new Ke.vtext(this,t,a,e))},rn.block=function(t){p(this.$queue,function(e){return t===e[0]?null:void 0})},rn.after=function(t,e){this.$afters.push([t,e])},rn.completed=function(){0!==this.$queue.length||this.$done||(this.$done=!0,this.$element.appendChild(this.$fragment),p(this.$afters,function(t){return t[0].call(t[1]),null}))},rn.destroy=function(){this.$data=null,G(this.$element),p(this.$directives,function(t){return t.destroy(),null})};var on=Gt.prototype;return on.mount=function(){this.__vm__.mount()},on.get=function(t){var e=this.$data;return s(t)?O(e,t):e},on.getCopy=function(t){return m(this.get(t))},on.set=function(t,n){var i=this.$data;s(t)?O(i,t,n):e(t)&&p(t,function(t,e){O(i,e,t)})},on.reset=function(t){var e=this.$data,i=this.__bk__;s(t)?e[t]=i[t]:n(t)?p(t,function(t){e[t]=i[t]}):p(e,function(t,n){e[n]=i[n]})},on.watch=function(t,e,n){return new z(this,{deep:n,expression:t},e.bind(this.__ct__))},on._watchBatch=function(t){p(t,function(t,n){i(t)?this.watch(n,t,!1):e(t)&&this.watch(n,t.handler,t.deep)},this)},on.destroy=function(){this.__vm__.destroy(),this.__vm__=this.__ct__=this.__bk__=this.$data=null},Gt});