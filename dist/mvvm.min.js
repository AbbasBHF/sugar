/*!
 * mvvm.js v1.4.1 (c) 2017 TANG
 * Released under the MIT license
 * Sat Nov 04 2017 11:30:31 GMT+0800 (CST)
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.MVVM=e()}(this,function(){"use strict";function t(t,e){return typeof t===e}function e(t){return"[object Object]"===te.toString.call(t)}function n(t){return Array.isArray(t)}function i(e){return t(e,"function")}function s(e){return t(e,"string")}function r(e){return t(e,"boolean")}function o(e){return t(e,"number")&&!isNaN(e)}function h(t){return!(!t||!e(t)||t.nodeType||t===t.window)&&!(t.constructor&&!ee.call(t.constructor.prototype,"isPrototypeOf"))}function u(t){return 0===Object.keys(t).length}function a(t){return null==t?"":t.toString()}function c(t){if(s(t)){var e=Number(t);return o(e)?e:t}return t}function f(){}function l(){ne&&ne.warn.apply(ne,arguments)}function d(){ne&&ne.error.apply(ne,arguments)}function p(t,e){return t&&ee.call(t,e)}function v(t,e,n,i){return Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!!i,configurable:!0})}function _(t,i,s){var r,o;if(s||(s=this),n(t))for(r=0;r<t.length&&(o=i.call(s,t[r],r,t),o!==!1);r++)null===o&&(t.splice(r,1),r--);else if(e(t)){var h=Object.keys(t);for(r=0;r<h.length;r++){var u=h[r];if(o=i.call(s,t[u],u,t),o===!1)break;null===o&&delete t[u]}}}function m(t){_(t,function(){return null})}function b(){var t,e,s,o,u,a,c=arguments,f=arguments[0]||{},l=1,d=arguments.length,p=!1;for(r(f)&&(p=f,f=arguments[l]||{},l++),"object"==typeof f||i(f)||(f={}),l===d&&(f=this,l--);l<d;l++)if(null!=(t=c[l]))for(e in t)s=f[e],o=t[e],f!==o&&(p&&o&&(h(o)||(u=n(o)))?(u?(u=!1,a=s&&n(s)?s:[]):a=s&&h(s)?s:{},f[e]=b(p,a,o)):void 0!==o&&(f[e]=o));return f}function g(t){var i;return n(t)?i=b(!0,[],t):e(t)&&(i=b(!0,{},t)),i||t}function y(){return document.createDocumentFragment()}function $(t){for(var e,n=y();e=t.firstChild;)n.appendChild(e);return n}function w(t){return t.replace(ie,"")}function x(t,e,n){if(!e)return t;for(var i=e.split(".");i.length>1&&p(t,i[0]);)t=t[i.shift()];return e=i[0],"undefined"!=typeof n?void(t[e]=n):t[e]}function k(t){this.path=t,this.watchers=[],this.guid=se++}function O(t){return t}function C(t){return""}function A(t){var e=t.charCodeAt(0);if(e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57)return he;switch(e){case 91:case 93:case 46:case 34:case 39:return ue;default:return ae}}function N(t){var e=[],n=t.split(""),i=n.length-1,s=A(n[0]);return fe.init(s),_(n,function(t,n){var s=A(t),r=fe.set(s,t);r&&e.push(r),n===i&&fe.saves&&(e.push(fe.saves),fe.reset())}),e}function D(t,e){for(;e.length;)t=t[e.shift()];return t}function E(t){return N(w(t))}function I(t,n,i){var s=g(i),r=s.pop(),o=D(t,s);e(o)&&(o[r]=n)}function T(t){var e=$e.length;return $e[e]=t,'"'+e+'"'}function j(t,e){return $e[e]}function L(t){var e=t.charAt(0),n=t.slice(1);return be.test(n)?t:(n=n.indexOf('"')>-1?n.replace(le,j):n,e+"scope."+n)}function S(t){return _e.test(t)&&!de.test(t)&&0!==t.indexOf("Math.")}function P(t){return S(t)?"scope."+t:(t=(" "+t).replace(pe,T),t=t.replace(ve,L),t=t.replace(le,j))}function U(t){if(ye.test(t))return l("Avoid using unallow keyword in expression ["+t+"]"),f;try{return new Function("scope","return "+P(t)+";")}catch(e){return d("Invalid generated expression: ["+t+"]"),f}}function W(t){var e=E(t);return e.length?function(t,n){I(t,n,e)}:(d("Invalid setter expression ["+t+"]"),f)}function M(t,e){var n=t&&t.__ob__,i=n&&n.dep.guid;if(i){if(we.indexOf(i)>-1)return;we.push(i)}_(t,function(t){M(t,!1)}),e&&(we.length=0)}function V(t,e,n,s){this.vm=t,b(this,e),this.callback=n,this.context=s||this,this.depIds=[],this.newDepIds=[],this.shallowIds=[],this.depends=[],this.newDepends=[];var r=e.once,o=e.expression,h=i(o);this.getter=h?o:U(o),this.setter=!r&&e.duplex?W(o):null,this.oldVal=null,this.value=r?this.getValue():this.get()}function z(t){this.parser=t,this.scope=t.scope}function F(t,e,n,i){this.vm=t,this.el=e,this.desc=n,this.scope=i,this.parse()}function R(t){return t.prototype=Object.create(F.prototype)}function H(t){return 1===t.nodeType}function q(t){return 3===t.nodeType}function B(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function Z(t,e){return t.getAttribute(e)||""}function G(t,e){t.removeAttribute(e)}function Q(t,e,n){return null==n||n===!1?G(t,e):void(n===!0?(t[e]=n,J(t,e)||t.setAttribute(e,"")):n!==Z(t,e)&&t.setAttribute(e,n))}function J(t,e){return t.hasAttribute(e)}function K(t,e){var n,i=t.classList;return i?i.contains(e):(n=" "+Z(t,"class")+" ",n.indexOf(" "+e+" ")>-1)}function X(t,e){var n,i=t.classList;e&&!K(t,e)&&(i?i.add(e):(n=" "+Z(t,"class")+" ",n.indexOf(" "+e+" ")===-1&&Q(t,"class",(n+e).trim())))}function Y(t,e){var n,i,s=t.classList;if(e&&K(t,e)){if(s)s.remove(e);else{for(i=" "+e+" ",n=" "+Z(t,"class")+" ";n.indexOf(i)>-1;)n=n.replace(i," ");Q(t,"class",n.trim())}t.className||G(t,"class")}}function tt(t,e,n,i){t.addEventListener(e,n,i)}function et(t,e,n,i){t.removeEventListener(e,n,i)}function nt(t){try{return new Function("scope",P(t))}catch(e){return d("Invalid generated expression: ["+t+"]"),f}}function it(t){var e,n,i=w(t),s=i.match(Ne),r=s&&s[0];return r?(n=i.substr(0,i.indexOf(r)),e="["+r.substr(1,r.length-2)+"]"):n=i,{func:n,args:e}}function st(t){var e={},n=t.trim();if(Ae.test(n)){var i=n.length;n=n.substr(1,i-2).replace(/\s/g,"");var s=n.match(Ee);_(s,function(t){var n=t.split(":"),i=n[0],s=n[1];i&&s&&(i=i.replace(De,""),e[i]=s)})}return e}function rt(t,e){var n,i=t.indexOf("."),s="";i>-1?(n=t.substr(0,i),s=t.substr(i+1,t.length)):n=t;var r=it(e),o=r.func,h=r.args;return S(o)||(o=nt(e)),{type:n,dress:s,func:o,args:h}}function ot(t){var e=[],n=t.args,i=t.expression;if(n)e=[rt(n,i)];else{var s=st(i);_(s,function(t,n){e.push(rt(n,t))})}return e}function ht(t,e){var n,i=e.split("."),s=i.indexOf("self")>-1,r=i.indexOf("stop")>-1,o=i.indexOf("one")>-1,h=i.indexOf("prevent")>-1,u=i.indexOf("capture")>-1;return 0===t.indexOf("key")&&_(i,function(t){if(Ce.test(t))return n=+t,!1}),{self:s,stop:r,prevent:h,capture:u,keyCode:n,one:o}}function ut(){this.cache={},this.funcWatchers=[],this.argsWatchers=[],F.apply(this,arguments)}function at(){F.apply(this,arguments)}function ct(t){for(var e=0;e<We.length;e++){var n=We[e];v(t,n,Ue[n])}}function ft(t){Se?t.__proto__=Ue:ct(t)}function lt(t,e){return t?t+"*"+e:e}function dt(t,e){_(t,function(n,i){mt(t,i,n,lt(e,i))})}function pt(t,e){ft(t),_(t,function(t,n){_t(t,lt(e,n))})}function vt(t,e){this.dep=new k(e),n(t)?pt(t,e):dt(t,e),v(t,"__ob__",this)}function _t(t,i){if(e(t)||n(t))return p(t,"__ob__")?t.__ob__:new vt(t,i||"")}function mt(t,e,i,s){var r=new k(s),o=Object.getOwnPropertyDescriptor(t,e),h=o&&o.get,u=o&&o.set,a=_t(i,s);Object.defineProperty(t,e,{get:function(){var e=h?h.call(t):i;return k.watcher&&(r.depend(),a&&a.dep.depend()),n(e)&&_(e,function(t){var e=t&&t.__ob__;e&&e.dep.depend()}),e},set:function(n){var s=h?h.call(t):i;n!==s&&(r.beforeNotify(),u?u.call(t,n):i=n,a=_t(n,e),r.notify())}})}function bt(t,e){var n=new V(t,{expression:e.bind(t)});return function(){return k.watcher&&_(n.depends,function(t){t.depend()}),n.value}}function gt(t,e){_(e,function(e,n){return i(e)?void Object.defineProperty(t,n,{set:f,get:bt(t,e)}):l("computed property ["+n+"] must be a getter function!")})}function yt(t,e){var n,i,s=t.$hooks,r=e.__afterHook__,o=e.__beforeHook__;return r&&(n=s[r]),o&&(i=s[o]),{after:n,before:i}}function $t(){return Math.random().toString(36).substr(2)}function wt(){F.apply(this,arguments)}function xt(t,e){for(var n=t.$regEles,i=e.childNodes,s=0;s<i.length;s++){var r=i[s];if(H(r)){for(var o=r.attributes,h=0;h<o.length;h++){var u=o[h];"v-el"===u.name&&p(n,u.value)&&(n[u.value]=null)}r.hasChildNodes()&&xt(t,r)}}}function kt(){return document.createTextNode("")}function Ot(t,e){var n=t.parentNode;n&&n.replaceChild(e,t)}function Ct(){F.apply(this,arguments)}function At(){F.apply(this,arguments)}function Nt(){F.apply(this,arguments)}function Dt(t){var e=t.style.display;v(t,Ze,"none"===e?"":e)}function Et(t,e){t.style.display=e}function It(){F.apply(this,arguments)}function Tt(t,i){var s={};return _(t,function(t,r){var o,h=i[r];if(e(t))o=Tt(t,h),u(o)||(s[r]=o);else if(n(t)){var a=[];_(t,function(t,n){var i;e(t)?(i=Tt(t,h[n]),a.push(i)):h.indexOf(t)<0&&a.push(t)}),s[r]=a}else t!==h&&(s[r]=t)}),s}function jt(t,e){var i=[];return n(t)&&n(e)?(_(t,function(t){e.indexOf(t)<0&&i.push(t)}),i):t}function Lt(t,i){var s=n(t)&&n(i),r=e(t)&&e(i),o=r?Tt:s?jt:null,h=o&&o(t,i)||t,u=o&&o(i,t)||i;return{after:h,before:u}}function St(t,n){var i=t.style;return e(n)?void _(n,function(t,e){i[e]!==t&&(i[e]=t)}):l("v-bind for style must be a type of Object",n)}function Pt(t,e,n){_(e.split(" "),function(e){n?Y(t,e):X(t,e)})}function Ut(t,i,r){s(i)?Pt(t,i,r):n(i)?_(i,function(e){Pt(t,e,r)}):e(i)&&_(i,function(e,n){Pt(t,n,r||!e)})}function Wt(){F.apply(this,arguments)}function Mt(t,e){Je=Date.now(),setTimeout(function(){Date.now()-Je>=e&&t.call(t)},e)}function Vt(t,e){for(var n=[],i=t.options,s=0;s<i.length;s++){var r=i[s],o=r.value;r.selected&&n.push(zt(o,e))}return n}function zt(t,e){return e?c(t):t}function Ft(t,e){for(var n=0;n<e.length;n++)if(e[n]==t)return n;return-1}function Rt(){F.apply(this,arguments)}function Ht(){F.apply(this,arguments)}function qt(t){return 0===t.indexOf("v-")}function Bt(t){return H(t)&&J(t,"v-once")}function Zt(t){return J(t,"v-if")||J(t,"v-for")||J(t,"v-pre")}function Gt(t){if(H(t)&&t.hasAttributes()){for(var e=t.attributes,n=0;n<e.length;n++)if(qt(e[n].name))return!0}else if(q(t)&&cn.test(t.textContent))return!0}function Qt(t){var e,n,i=t.name,s=t.value,r=i.indexOf(":");return r>-1?(n=i.substr(r+1),e=i.substr(0,r)):e=i,{args:n,attr:i,directive:e,expression:s}}function Jt(t){t.__afterHook__||v(t,"__afterHook__",Z(t,"v-hook:after")),t.__beforeHook__||v(t,"__beforeHook__",Z(t,"v-hook:before"))}function Kt(t,e){var n,i,s;return function(r,o,h){var u=r.path;u===n&&o===i&&h===s||(t.apply(e,arguments),n=u,i=o,s=h)}}function Xt(t){var n=t.model,s=t.view,r=t.computed,o=t.watchAll;return H(s)?e(n)?(this.$queue=[],this.$data=n,this.$element=s,this.$regEles={},this.$directives=[],this.$context=t.context||this,this.$ob=_t(this.$data),r&&gt(this.$data,r),this.$afters=[],this.$hooks=t.hooks||{},this.$customs=t.customs||{},this.$unifyCb=i(o)?Kt(o,this.$context):null,void(t.lazy||this.mount())):l("model must be a type of Object: ",n):l("view must be a type of DOMElement: ",s)}function Yt(t){var n=t.context||t.model;_(t.model,function(e,s){i(e)&&(t.model[s]=e.bind(n))}),_(t.methods,function(e,i){t.model[i]=e.bind(n)}),this.__ct__=n,this.__bk__=g(t.model),this.__vm__=new Xt(t),this.$data=this.__vm__.$data,this.$els=this.__vm__.$regEles,_(t.watches,function(t,n){i(t)?this.watch(n,t,!1):e(t)&&this.watch(n,t.handler,t.deep)},this)}var te=Object.prototype,ee=te.hasOwnProperty,ne=window.console,ie=/\s/g,se=0;k.watcher=null;var re=k.prototype;re.addWatcher=function(t){this.watchers.push(t)},re.removeWatcher=function(t){this.watchers.$remove(t)},re.depend=function(){k.watcher&&k.watcher.addDepend(this)},re.beforeNotify=function(){_(this.watchers,function(t){t.beforeUpdate()})},re.notify=function(t){_(this.watchers,function(e){e.update(t,this)},this)};var oe=0,he=1,ue=2,ae=1,ce=[0,O,C,O],fe={init:function(t){this.saves="",this.state=t},set:function(t,e){var n=this.get(t),i=n.keepIdent,s=n.tobeQuote,r=n.tobeIdent;if(i)this.save(t,e);else{if(s){var o=this.saves;return this.saves="",this.change(t),o}r&&(this.save(t,e),this.change(t))}},get:function(t){var e=this.state,n=e===he&&t===he,i=(e===he||e===oe)&&t===ue,s=e===ue&&t===ue,r=(e===ue||e===oe)&&t===he;return{keepIdent:n,tobeQuote:i,keepQuote:s,tobeIdent:r}},change:function(t){this.state=t},save:function(t,e){this.saves+=ce[t](e)},reset:function(){this.saves="",this.state=oe}},le=/"(\d+)"/g,de=/^(true|false)$/,pe=/[\{,]\s*[\w\$_]+\s*:|('[^']*'|"[^"]*")|typeof /g,ve=/[^\w$\.]([A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\])*)/g,_e=/^[A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/,me="JSON.Math.parseInt.parseFloat.Date.this.true.false.null.undefined.Infinity.NaN.isNaN.isFinite.decodeURI.decodeURIComponent.encodeURI.encodeURIComponent",be=new RegExp("^("+me.replace(/\./g,"\\b|")+"\\b)"),ge="var.const.let.if.else.for.in.continue.switch.case.break.default.function.return.do.while.delete.try.catch.throw.finally.with.import.export.instanceof.yield.await",ye=new RegExp("^("+ge.replace(/\./g,"\\b|")+"\\b)"),$e=[],we=[],xe=V.prototype;xe.getScope=function(){return this.context.scope||this.vm.$data},xe.getValue=function(){var t=this.getScope();return this.getter.call(t,t)},xe.setValue=function(t){var e=this.getScope();this.setter&&this.setter.call(e,e,t)},xe.get=function(){this.beforeGet();var t=this.getValue();return this.deep&&(this.shallowIds=g(this.newDepIds),M(t,!0)),this.afterGet(),t},xe.beforeGet=function(){k.watcher=this},xe.addDepend=function(t){var e=t.guid,n=this.newDepIds;n.indexOf(e)<0&&(n.push(e),this.newDepends.push(t),this.depIds.indexOf(e)<0&&t.addWatcher(this))},xe.removeDepends=function(t){_(this.depends,function(e){t?t.call(this,e)&&e.removeWatcher(this):e.removeWatcher(this)},this)},xe.afterGet=function(){k.watcher=null,this.removeDepends(function(t){return this.newDepIds.indexOf(t.guid)<0}),this.depIds=g(this.newDepIds),this.newDepIds.length=0,this.depends=g(this.newDepends),this.newDepends.length=0},xe.beforeUpdate=function(){this.oldVal=g(this.value)},xe.update=function(t,e){var n=this.oldVal,i=this.vm.$unifyCb,s=this.value=this.get(),r=t&&t.source;if(!r||r===s||"v-for"!==this.directive){var o=this.callback;o&&n!==s&&(o.call(this.context,s,n,this.deep&&this.shallowIds.indexOf(e.guid)<0,t),r&&(t.source=null)),i&&i({action:t,path:e.path},s,n)}},xe.destroy=function(){this.value=null,this.removeDepends(),this.getter=this.setter=null,this.vm=this.callback=this.context=null};var ke=z.prototype;ke.mount=function(){var t=this.parser,e=this.watcher=new V(t.vm,t.desc,this.update,this);this.update(e.value)},ke.destroy=function(){this.watcher.destroy(),this.parser=this.scope=null},ke.update=function(){var t=this.parser;t.update.apply(t,arguments)},ke.get=function(){return this.watcher.value},ke.set=function(t){this.watcher.setValue(t)};var Oe=F.prototype;Oe.bind=function(){this.directive=new z(this),this.directive.mount()},Oe.destroy=function(){var t=this.directive;t?t.destroy():i(this._destroy)&&this._destroy(),this.vm=this.el=this.desc=this.scope=null};var Ce=/^(\d)*$/,Ae=/^\{.*\}$/,Ne=/(\(.*\))/,De=/(^'*)|('*$)|(^"*)|("*$)/g,Ee=/[^,]+:[^:]+((?=,[^:]+:)|$)/g,Ie=2e3,Te="__vonid__",je=R(ut);je.parse=function(){_(ot(this.desc),function(t){this.parseEvent(t)},this)},je.getExpDesc=function(t){return b({},this.desc,{expression:t})},je.parseEvent=function(t){var e=t.func,n=t.args,s=t.type,r=t.dress,o=r.indexOf("capture")>-1;if(i(e))return this.bindAnonymousEvent(s,r,e);if("$remove"===e)return this.bindRemoveEvent(s,r);var h=this.getExpDesc(e),u=new V(this.vm,h,function(t,e){this.off(s,e,o),this.bindEvent(s,r,t,n)},this),a=u.value;return i(a)?(this.bindEvent(s,r,a,n),void(h.once?u.destroy():this.funcWatchers.push(u))):(u.destroy(),l("Directive ["+this.desc.attr+"] must be a type of Function"))},je.bindAnonymousEvent=function(t,e,n){var i=this.scope||this.vm.$data;this.bindEvent(t,e,n.bind(i,i))},je.bindRemoveEvent=function(t,e){var n=this.scope;if(!n)return l("The specify event $remove must be used in v-for scope");var i=n.__alias__;this.bindEvent(t,e,function(){n.__viterator__.$remove(n[i])},"["+i+"]")},je.bindEvent=function(t,e,n,i){var s=ht(t,e),r=s.self,o=s.stop,h=s.prevent,u=s.capture,a=s.keyCode,c=s.one;v(this.scope||this.vm.$data,"$event","__e__");var f=[];if(i){var l=this.getExpDesc(i),d=new V(this.vm,l,function(t){f=t},this);f=d.value,l.once?d.destroy():this.argsWatchers.push(d)}var p,m=this.el,b=function(t){r&&t.target!==m||a&&a!==t.keyCode||(f.length?_(f,function(e,n){("__e__"===e||e instanceof Event)&&(f[n]=t)}):f.push(t),h&&t.preventDefault(),o&&t.stopPropagation(),n.apply(this,f))},g=Ie++,y=this;c?(p=function(e){b(e),y.off(t,p,u)},p[Te]=g):(n[Te]=g,p=b),this.cache[g]=p,this.on(t,p,u)},je.on=function(t,e,n){tt(this.el,t,e,n)},je.off=function(t,e,n){var i=this.cache,s=e[Te],r=i[s];r&&(et(this.el,t,r,n),delete i[s])},je._destroy=function(){m(this.cache),_(this.funcWatchers,function(t){t.destroy()}),_(this.argsWatchers,function(t){t.destroy()})};var Le=R(at);Le.parse=function(){this.scope?l("v-el can not be used inside v-for! Consider use v-custom to handle v-for element."):this.vm.$regEles[this.desc.expression]=this.el};var Se="__proto__"in{},Pe=Array.prototype,Ue=Object.create(Pe);_(["pop","push","sort","shift","splice","unshift","reverse"],function(t){var e=Pe[t];v(Ue,t,function(){for(var n=arguments,i=[],s=this.__ob__,r=0;r<arguments.length;r++)i.push(n[r]);s.dep.beforeNotify();var o,h=e.apply(this,i);switch(t){case"push":case"unshift":o=i;break;case"splice":o=i.slice(2)}return o&&o.length&&pt(o),s.dep.notify({method:t,args:i,source:this}),h})}),v(Pe,"$set",function(t,e){return t>=this.length&&(t=this.length),this.splice(t,1,e)[0]}),v(Pe,"$remove",function(t){var e=this.indexOf(t);if(e>-1)return this.splice(e,1)});var We=Object.getOwnPropertyNames(Ue),Me="__vfor__",Ve="__vforid__",ze=/(.*) (?:in|of) (.*)/,Fe="push|pop|shift|unshift|splice".split("|"),Re=R(wt);Re.parse=function(){var t=this.el,e=this.desc,n=t.parentNode,i=e.expression,s=i.match(ze);if(!s)return l('The format of v-for must be like "item in/of items"!');if(1!==n.nodeType)return l("v-for cannot use in the root element!");if(J(t,"v-if"))return l("Do not use v-if and v-for on the same element! Consider filtering the source Array instead.");var r=s[1],o=s[2];this.length=0,this.scopes=[],this.init=!0,this.alias=r,this.partly=!1,this.partlyArgs=[],this.$parent=n,this.end=t.nextSibling,this.start=t.previousSibling,this.bodyDirs=t.__dirs__,this.tpl=t.cloneNode(!0),this.hooks=yt(this.vm,t),this.isOption="OPTION"===t.tagName&&"SELECT"===n.tagName,e.expression=o,this.bind(),this.updateModel()},Re.updateModel=function(){if(this.isOption){var t=this.$parent.__vmodel__;t&&t.forceUpdate()}},Re.hook=function(t,e,n){var s=this.hooks[t];i(s)&&(s.call(this.vm.$context,e,n,e[Ve]),e=null)},Re.update=function(t,e,n,i){this.length=t&&t.length,this.init?(this.$parent.replaceChild(this.buildList(t),this.el),this.el=null,this.init=!1):i&&Fe.indexOf(i.method)>-1?(this.partly=!0,this.updatePartly(t,i),this.partly=!1):(this.recompileList(t),this.updateModel())},Re.updatePartly=function(t,e){var n=[],i=e.args,s=e.method,r=this.scopes;switch(this[s].call(this,t,i),s){case"pop":case"shift":break;case"push":case"unshift":n=this.partlyArgs;break;case"splice":n=i.slice(0,2),Array.prototype.push.apply(n,this.partlyArgs)}r[s].apply(r,n),this.partlyArgs.length=0,_(r,function(t,e){t.$index=e})},Re.recompileList=function(t){for(var e=this,n=0,i=this.$parent,s=i.childNodes,r=0;r<s.length;r++){var o=s[r];o[Me]===e.alias&&(e.hook("before",o,n++),i.removeChild(o),r--)}this.scopes.length=0;var h=this.buildList(t);i.insertBefore(h,this.end)},Re.buildList=function(t,e){var n=this.vm,i=this.tpl,s=e||0,r=y(),o=this.directive.watcher.value;return _(t,function(t,e){var h=s+e,u=this.alias,a=i.cloneNode(!0),c=this.scope||n.$data,f=Object.create(c);f.$parent=c,mt(f,u,t),mt(f,"$index",h),v(f,"__alias__",u),v(f,"__viterator__",o),this.partly?this.partlyArgs.push(f):this.scopes.push(f),this.init&&this.bodyDirs>1&&n.block(this.el),v(a,Me,u),v(a,Ve,$t()),n.compile(a,!0,f,this.desc.once),r.appendChild(a),this.hook("after",a,h)},this),r},Re.getChilds=function(){for(var t=this,e=[],n=this.$parent.childNodes,i=0;i<n.length;i++){var s=n[i];s[Me]===t.alias&&e.push(s)}return e},Re.getFirst=function(){var t=this.start;return t&&t.nextSibling||this.$parent.firstChild},Re.getLast=function(){var t=this.end;return t&&t.previousSibling||this.$parent.lastChild},Re.getChild=function(t){return this.getChilds()[t]||null},Re.removeChild=function(t){t&&this.$parent.removeChild(t)},Re.shift=function(){var t=this.getFirst();t&&(this.hook("before",t,0),this.removeChild(t))},Re.pop=function(){var t=this.getLast();t&&(this.hook("before",t,this.length),this.removeChild(t))},Re.push=function(t,e){var n=this.buildList(e,t.length-1);this.$parent.insertBefore(n,this.end)},Re.unshift=function(t,e){var n=this.getFirst(),i=this.buildList(e,0);this.$parent.insertBefore(i,n)},Re.splice=function(t,e){var n=e[0],i=e[1],s=e.slice(2),r=s.length;if(0!==i||r){var o=i&&!r,h=!i&&r,u=i&&r;if(o||u){var a=this.getChilds();_(a,function(t,e){e>=n&&e<n+i&&(this.hook("before",t,e),this.removeChild(t))},this),a=null}if(h||u){var c=this.getChild(n)||this.end,f=this.buildList(s,n);this.$parent.insertBefore(f,c)}}};var He=R(Ct);He.parse=function(){var t=this.el,e=t.nextElementSibling,n=t.parentNode;return 1!==n.nodeType?l("v-if cannot use in the root element!"):(this.$parent=n,this.hooks=yt(this.vm,t),this.elTpl=t.cloneNode(!0),this.elAnchor=kt(),Ot(t,this.elAnchor),this.el=null,e&&J(e,"v-else")&&(this.elseTpl=e.cloneNode(!0),this.elseAnchor=kt(),Ot(e,this.elseAnchor),e=null),void this.bind())},He.hook=function(t,e,n){var s=this.hooks[t];i(s)&&s.call(this.vm.$context,e,n)},He.update=function(t){var e=this.elseAnchor;this.toggle(this.elAnchor,this.elTpl,t,!1),e&&this.toggle(e,this.elseTpl,!t,!0)},He.toggle=function(t,e,n,i){var s=this.vm,r=this.$parent,o=e.cloneNode(!0);if(n){s.compile(o,!0,this.scope,this.desc.once);var h=r.insertBefore(o,t);this.hook("after",h,i),v(h,"__vif__",!0)}else{var u=t.previousSibling;u&&u.__vif__&&(this.hook("before",u,i),xt(s,e),r.removeChild(u))}};var qe=R(At);qe.parse=function(){this.bind()},qe.update=function(t){this.el.textContent=a(t)};var Be=R(Nt);Be.parse=function(){this.bind()},Be.update=function(t){this.el.innerHTML=a(t)};var Ze="__visible__",Ge=R(It);Ge.parse=function(){var t=this.el;Dt(t);var e=t.nextElementSibling;e&&J(e,"v-else")&&(this.elseEl=e,Dt(e)),this.bind()},Ge.update=function(t){var e=this.el,n=this.elseEl;Et(e,t?e[Ze]:"none"),n&&Et(n,t?"none":n[Ze])};var Qe=R(Wt);Qe.parse=function(){this.desc.deep=!0,this.bind()},Qe.update=function(t,e){var n=this.desc.args;n?this.single(n,t,e):this.multi(t,e)},Qe.single=function(t,e,n){switch(t){case"class":this.processClass(e,n);break;case"style":this.processStyle(e,n);break;default:this.processAttr(t,e)}},Qe.multi=function(t,e){if(e){var n=Lt(t,e),i=n.after,s=n.before;this.batch(i,s)}this.batch(t)},Qe.batch=function(t,e){_(t,function(t,n){this.single(n,t,e&&e[n])},this)},Qe.processClass=function(t,e){var n=this.el;if(e){var i=Lt(t,e),s=i.after,r=i.before;Ut(n,r,!0),Ut(n,s)}else Ut(n,t)},Qe.processStyle=function(t,e){var n=this.el;e&&(_(e,function(t,n){e[n]=""}),St(n,e)),St(n,t)},Qe.processAttr=function(t,e){Q(this.el,t,e)};var Je=0,Ke=window.navigator.userAgent.toLowerCase(),Xe=Ke&&Ke.indexOf("msie 9.0")>0,Ye={bind:function(){function t(t){i&&(t=t.trim());var e=zt(t,r);o?Mt(function(){n.onDebounce=!0,h.set(e)},c(o)):h.set(e)}var e,n=this,i=this.trim,s=this.lazy,r=this.number,o=this.debounce,h=this.directive;this.on("compositionstart",function(){e=!0}),this.on("compositionend",function(){e=!1,s||t(this.value)}),this.on("input",function(){e||s||t(this.value)}),this.on("blur",function(){t(this.value)}),this.on("change",function(){t(this.value)}),Xe&&(this.on("cut",function(){t(this.value)}),this.on("keyup",function(e){var n=e.keyCode;8!==n&&46!==n||t(this.value)}))},update:function(t){var e=this.el,n=a(t);e.value===n||this.onDebounce||(e.value=n)}},tn={bind:function(){var t=this.number,e=this.directive;this.on("change",function(){e.set(zt(this.value,t))})},update:function(t){var e=this.el;e.checked=e.value===a(t)}},en={bind:function(){var t=this.multi,e=this.number,n=this.directive;this.on("change",function(){var i=t?Vt(this,e):zt(this.value,e);n.set(i)}),this.vm.after(this.forceUpdate,this)},update:function(t){var e=this.el,i=this.multi,s=this.desc.expression;if(e.selectedIndex=-1,i&&!n(t))return l("<select> cannot be multiple when the model set ["+s+"] as not Array");if(!i&&n(t))return l("The model ["+s+"] cannot set as Array when <select> has no multiple propperty");for(var r=e.options,o=0;o<r.length;o++){var h=r[o],u=h.value;h.selected=i?Ft(u,t)>-1:u===a(t)}},forceUpdate:function(){this.update(this.directive.get())}},nn={bind:function(){var t=this.number,e=this.directive;this.on("change",function(){var i=e.get(),s=this.checked;if(r(i))e.set(s);else if(n(i)){var o=zt(this.value,t),h=Ft(o,i);s&&h===-1?i.push(o):h>-1&&i.splice(h,1)}})},update:function(t){var e=this.el,i=zt(e.value,this.number);return n(t)||r(t)?void(e.checked=r(t)?t:Ft(i,t)>-1):l("Checkbox v-model value must be a type of Boolean or Array")}},sn=["input","select","textarea"],rn=R(Rt);rn.parse=function(){var t=this.el,e=this.desc,n=t.tagName.toLowerCase(),i="input"===n?Z(t,"type"):n;return sn.indexOf(n)<0?l("v-model only for using in "+sn.join(", ")):S(e.expression)?(e.duplex=!0,void this.bindDuplex(i)):l("v-model directive value can be use by static expression")},rn.bindDuplex=function(t){var e,n=this.el;switch(t){case"text":case"password":case"textarea":e=Ye,this.trim=J(n,"trim"),this.lazy=J(n,"lazy"),this.debounce=Z(n,"debounce");break;case"radio":e=tn;break;case"checkbox":e=nn;break;case"select":e=en,v(n,"__vmodel__",this),this.multi=J(n,"multiple"),this.forceUpdate=en.forceUpdate.bind(this)}return e?(this.number=J(n,"number"),this.update=e.update.bind(this),this.bind(),void(this.desc.once||e.bind.call(this))):l("Do not use incorrect form-type with v-model: ",n)},rn.on=function(t,e){tt(this.el,t,e,!1)};var on=R(Ht);on.parse=function(){var t=this.desc,e=this.vm.$customs[t.args];return i(e)?(this.update=e,void this.bind()):l("Custom directive ["+t.attr+"] must define with a refresh function!")};var hn={von:ut,vel:at,vif:Ct,vfor:wt,vtext:At,vhtml:Nt,vshow:It,vbind:Wt,vmodel:Rt,vcustom:Ht},un=/\n/g,an=/\{\{(.+?)\}\}/g,cn=/(\{\{.*\}\})/,fn=["velse","vpre","vcloak","vonce","vhook"],ln=Xt.prototype;ln.mount=function(){this.$done=!1,this.$fragment=$(this.$element),this.compile(this.$fragment,!0)},ln.compile=function(t,e,n,i){var s=this,r=t.childNodes,o=!!i||Bt(t);e&&Gt(t)&&this.$queue.push([t,n]),v(t,"__vonce__",o);for(var h=0;h<r.length;h++){var u=r[h],a=u.nodeType;if(1===a||3===a){var c=o||Bt(u);Gt(u)&&(s.$queue.push([u,n]),v(u,"__vonce__",c)),u.hasChildNodes()&&!Zt(u)&&s.compile(u,!1,n,c)}}e&&this.compileAll()},ln.compileAll=function(){_(this.$queue,function(t){return this.compileNode(t),null},this),this.completed()},ln.compileNode=function(t){var e=t[0],n=t[1];if(H(e)){for(var i,s,r,o,h=[],u=e.attributes,a=0;a<u.length;a++){var c=u[a],f=c.name;qt(f)&&("v-for"===f?i=c:"v-model"===f?(s=!0,o=h.length):0===f.indexOf("v-bind")?r=!0:0===f.indexOf("v-hook")&&Jt(e),h.push(c))}if(!i&&r&&s&&h.length>1&&o!==h.length-1){var l=h.splice(o,1)[0];h.push(l),l=null}i&&(v(e,"__dirs__",h.length),h=[i],i=null),_(h,function(t){this.parse(e,t,n)},this)}else q(e)&&this.parseText(e,n)},ln.parse=function(t,e,n){var i=t.__vonce__,s=Qt(e),r=s.directive,o="v"+r.substr(2),h=hn[o];if(G(t,s.attr),!(fn.indexOf(o)>-1))if(h){s.once=i;var u=new h(this,t,s,n);i?u.destroy():n||this.$directives.push(u)}else l("["+r+"] is an unknown directive!")},ln.parseText=function(t,e){var n=[],i={},s=t.parentNode&&t.parentNode.__vonce__,r=t.textContent.trim().replace(un,""),o=r.split(an),h=r.match(an);_(o,function(t){h.indexOf("{{"+t+"}}")>-1?n.push("("+t+")"):t&&n.push('"'+t+'"')}),i.once=s,i.expression=n.join("+");var u=new hn.vtext(this,t,i,e);s?u.destroy():e||this.$directives.push(u)},ln.block=function(t){_(this.$queue,function(e){if(t===e[0])return null})},ln.after=function(t,e){this.$afters.push([t,e])},ln.completed=function(){0!==this.$queue.length||this.$done||(this.$done=!0,this.$element.appendChild(this.$fragment),_(this.$afters,function(t){return t[0].call(t[1]),null}))},ln.destroy=function(){this.$data=null,B(this.$element),_(this.$directives,function(t){return t.destroy(),null})};var dn=Yt.prototype;return dn.mount=function(){this.__vm__.mount()},dn.get=function(t){var e=this.$data;return s(t)?x(e,t):e},dn.getCopy=function(t){return g(this.get(t))},dn.set=function(t,n){var i=this.$data;s(t)?x(i,t,n):e(t)&&_(t,function(t,e){x(i,e,t)})},dn.reset=function(t){var e=this.$data,i=g(this.__bk__);s(t)?e[t]=i[t]:n(t)?_(t,function(t){e[t]=i[t]}):_(e,function(t,n){e[n]=i[n]})},dn.watch=function(t,e,n){return new V(this,{deep:n,expression:t},e.bind(this.__ct__))},dn.destroy=function(){this.__vm__.destroy(),this.__vm__=this.__ct__=this.__bk__=this.$data=this.$els=null},Yt});